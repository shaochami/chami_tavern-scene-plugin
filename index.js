(function(_0x46846f,_0x4f46f1){function _0x3b6153(_0x4d1191,_0xeee47a,_0x1fe2e8,_0x4886be){return _0x2ac0(_0xeee47a-0x4d,_0x4886be);}const _0x5d9d3d=_0x46846f();function _0xbd3c30(_0x2f3f70,_0x45fc2,_0x21311a,_0x4f9a54){return _0x2ac0(_0x2f3f70- -0x9d,_0x4f9a54);}while(!![]){try{const _0xf3dd6f=parseInt(_0xbd3c30(0x29a,0x29f,0x27b,0x363))/(-0x1*-0x2+-0x255f+0x255e)*(-parseInt(_0x3b6153(0x2fe,0x3c2,0x41c,0x2de))/(-0xcce+-0xe28+0x1af8))+parseInt(_0x3b6153(0x38b,0x374,0x2fd,0x310))/(-0x67+0x2*-0x8eb+0x1240)+-parseInt(_0x3b6153(0x39f,0x2d5,0x223,0x33b))/(0x1*-0x14f9+0xc0b*0x1+0x8f2)*(parseInt(_0xbd3c30(0x20e,0x234,0x134,0x158))/(0xbe5+0x71b+-0x12fb))+-parseInt(_0xbd3c30(0x259,0x24b,0x195,0x1f1))/(-0xc88+-0x3*-0x5bb+-0x4a3)+-parseInt(_0xbd3c30(0x17a,0x182,0x1d7,0x14c))/(0xe8*0x16+0x792+-0x1b7b)*(parseInt(_0xbd3c30(0x196,0x10c,0x10b,0x21d))/(0x2*-0x455+-0x1e01+-0x26b3*-0x1))+parseInt(_0xbd3c30(0x126,0xb8,0x1b7,0x12d))/(-0x66a+-0x19f*0x6+0x102d)*(parseInt(_0x3b6153(0x44e,0x38e,0x3da,0x35e))/(-0xe43+0x109a*-0x2+0x2f81))+parseInt(_0x3b6153(0x3a8,0x2f4,0x330,0x2b1))/(-0x10*0x1b2+-0x576+-0x20a1*-0x1);if(_0xf3dd6f===_0x4f46f1)break;else _0x5d9d3d['push'](_0x5d9d3d['shift']());}catch(_0x565824){_0x5d9d3d['push'](_0x5d9d3d['shift']());}}}(_0x5029,-0x2bb43+-0x174464+-0xf1a*-0x2ae));const _0x425bbc=(function(){const _0x23e6cf={'GaXLl':function(_0x18f184,_0x18decb){return _0x18f184(_0x18decb);},'IfPBa':function(_0x23d0ff,_0x321f45){return _0x23d0ff+_0x321f45;},'ZljPw':_0xb75317(0x1cf,0x19a,0x272,0x193)+_0xb75317(0x156,0xf7,0x1ea,0x177),'Epoqv':function(_0x1c2af8){return _0x1c2af8();},'EKVDu':_0xb75317(0xa8,0x105,0xf4,0x6c),'AKJzY':_0x408f97(0x1ce,0x281,0x2b3,0x155),'RnYNn':_0xb75317(0x187,0x177,0x1ea,0xb0),'dirdd':_0xb75317(0x7f,-0x2a,0x123,-0x35),'vErGx':function(_0xa42428,_0x4296f0){return _0xa42428<_0x4296f0;},'rXOvV':function(_0x288702,_0x459b9b){return _0x288702===_0x459b9b;},'MkYYI':'vwzDT','hHdiQ':_0x408f97(0x33f,0x28c,0x2cc,0x3f2)};function _0xb75317(_0x198d97,_0x4f88a0,_0x2e0fef,_0x344c25){return _0x2ac0(_0x198d97- -0x138,_0x2e0fef);}let _0x5c0162=!![];function _0x408f97(_0x5d1e01,_0xdeb16c,_0x4c02fa,_0x35c1f3){return _0x2ac0(_0x5d1e01-0x9,_0x4c02fa);}return function(_0x117e93,_0x3aa8fa){const _0x34a0a3={'PeSiC':function(_0x109d14,_0x28b6dc){function _0x1750ee(_0xf15033,_0xe3feb5,_0x49a267,_0x18bad4){return _0x2ac0(_0x18bad4-0x14b,_0x49a267);}return _0x23e6cf[_0x1750ee(0x4c4,0x363,0x3ba,0x417)](_0x109d14,_0x28b6dc);},'wOfWv':function(_0x53a0e7,_0x2e4f62){function _0x30e966(_0x3305a8,_0x1d63e8,_0x154150,_0xac3d55){return _0x2ac0(_0x154150-0x2b6,_0x3305a8);}return _0x23e6cf[_0x30e966(0x67a,0x65c,0x626,0x552)](_0x53a0e7,_0x2e4f62);},'gdEYQ':function(_0x531998,_0xf156c4){function _0x58fca1(_0xcd9ec7,_0x189a2f,_0x11cafa,_0x2976ad){return _0x2ac0(_0x11cafa- -0x2dc,_0x2976ad);}return _0x23e6cf[_0x58fca1(0x19,0xbd,0x94,-0x6)](_0x531998,_0xf156c4);},'DMWOR':_0x23e6cf[_0x49f96c(0x2ec,0x295,0x297,0x1fb)],'smjwx':function(_0x635b21){function _0x4c501c(_0x5d5ff5,_0x4793b9,_0x5cc25a,_0x4c7d57){return _0x49f96c(_0x5d5ff5-0x1a5,_0x5cc25a,_0x4c7d57-0x4b,_0x4c7d57-0x62);}return _0x23e6cf[_0x4c501c(0x443,0x38e,0x431,0x3bd)](_0x635b21);},'Vckiu':_0x49f96c(0x186,0x225,0x1c5,0x10f),'HNNXe':_0x23e6cf['EKVDu'],'NIXAX':_0x23e6cf['AKJzY'],'OvcFw':_0x23e6cf['RnYNn'],'UGXwR':_0x23e6cf[_0x2437ac(0x78,0xe,0xbc,-0x1a)],'KldVs':function(_0x566664,_0x3788bb){function _0x436b26(_0x5a8045,_0x1dfb98,_0x28a641,_0x200bf5){return _0x49f96c(_0x5a8045-0x124,_0x200bf5,_0x28a641-0x65,_0x200bf5-0x22);}return _0x23e6cf[_0x436b26(0x274,0x2b3,0x303,0x23d)](_0x566664,_0x3788bb);}};function _0x2437ac(_0x5b2337,_0x5895ec,_0x4c4bb2,_0x10a08c){return _0x408f97(_0x10a08c- -0x28f,_0x5895ec-0x1e0,_0x4c4bb2,_0x10a08c-0x191);}function _0x49f96c(_0x2a128b,_0x5d85f1,_0x512168,_0x1405fd){return _0xb75317(_0x512168-0x13c,_0x5d85f1-0x1,_0x5d85f1,_0x1405fd-0x7);}if(_0x23e6cf['rXOvV'](_0x23e6cf[_0x2437ac(0x35,-0x43,-0x124,-0x8d)],_0x23e6cf[_0x49f96c(0x26b,0x287,0x2df,0x2e5)])){let _0x120e0c;try{const _0x4331f1=_0x34a0a3[_0x2437ac(0x61,0xb1,0x70,0x44)](_0x2e7633,_0x34a0a3['wOfWv'](_0x34a0a3[_0x2437ac(0x133,0x20,0xaf,0x91)](_0x34a0a3[_0x49f96c(0x276,0x100,0x1d5,0x18b)],_0x49f96c(0x2e8,0x39c,0x2dd,0x276)+_0x2437ac(0x4f,0x51,-0x5d,0xa)+_0x2437ac(0x71,0x54,-0x10,-0x2c)+'\x20)'),');'));_0x120e0c=_0x34a0a3[_0x2437ac(-0x175,-0xad,-0x57,-0xbd)](_0x4331f1);}catch(_0x2b6e0a){_0x120e0c=_0x3f1f35;}const _0x50e32f=_0x120e0c[_0x2437ac(0x86,0x37,0x61,0x5c)]=_0x120e0c[_0x49f96c(0x30d,0x2ab,0x2e6,0x33a)]||{},_0x21199b=[_0x34a0a3[_0x2437ac(0xe7,-0x12,0x194,0xd3)],_0x49f96c(0x234,0x114,0x1ed,0x17f),_0x34a0a3[_0x49f96c(0x15a,0x22a,0x224,0x2c6)],_0x34a0a3[_0x49f96c(0x1dd,0x2f6,0x268,0x328)],_0x49f96c(0x1fd,0x2bf,0x24f,0x1e9),_0x34a0a3['OvcFw'],_0x34a0a3[_0x49f96c(0x2c9,0x458,0x378,0x405)]];for(let _0x38c877=-0x18f3+-0xecf*0x1+0x27c2;_0x34a0a3[_0x49f96c(0x2b2,0x376,0x323,0x2a3)](_0x38c877,_0x21199b[_0x49f96c(0x32c,0x2da,0x353,0x410)]);_0x38c877++){const _0x520b99=_0x1f8a5a['constructo'+'r'][_0x49f96c(0x2a2,0x310,0x2a5,0x32c)][_0x49f96c(0x302,0x243,0x241,0x319)](_0x474d9a),_0x299260=_0x21199b[_0x38c877],_0x39725c=_0x50e32f[_0x299260]||_0x520b99;_0x520b99[_0x49f96c(0x1f2,0x175,0x23f,0x259)]=_0x11a5e4[_0x2437ac(-0xb8,-0xf7,-0x12e,-0x49)](_0x418cf6),_0x520b99[_0x2437ac(-0xec,-0x93,-0x52,-0x80)]=_0x39725c[_0x49f96c(0x1a8,0x125,0x20a,0x2a6)]['bind'](_0x39725c),_0x50e32f[_0x299260]=_0x520b99;}}else{const _0x5e7941=_0x5c0162?function(){function _0x3ded96(_0x57726a,_0x221568,_0x58a6d7,_0x4de8b2){return _0x2437ac(_0x57726a-0x12f,_0x221568-0x1ea,_0x221568,_0x57726a- -0x63);}if(_0x3aa8fa){const _0x22fee2=_0x3aa8fa[_0x3ded96(-0x114,-0x72,-0x11b,-0x15f)](_0x117e93,arguments);return _0x3aa8fa=null,_0x22fee2;}}:function(){};return _0x5c0162=![],_0x5e7941;}};}()),_0x46336e=_0x425bbc(this,function(){const _0x397e31={};function _0x5b1da7(_0x49aa20,_0x297cae,_0x1ef294,_0x12a23c){return _0x2ac0(_0x1ef294-0x3a2,_0x297cae);}function _0x11e30a(_0x4a70ee,_0xc7bde0,_0x306495,_0x2761f9){return _0x2ac0(_0x4a70ee-0x31,_0x306495);}_0x397e31[_0x11e30a(0x297,0x1cf,0x24e,0x21a)]=_0x11e30a(0x34c,0x366,0x3fa,0x2df)+'+$';const _0x4375b1=_0x397e31;return _0x46336e[_0x5b1da7(0x5e5,0x4e2,0x5a8,0x632)]()[_0x5b1da7(0x687,0x76f,0x720,0x7fc)](_0x4375b1['mjAzd'])[_0x5b1da7(0x505,0x690,0x5a8,0x636)]()['constructo'+'r'](_0x46336e)[_0x11e30a(0x3af,0x41b,0x2c9,0x379)](_0x4375b1[_0x5b1da7(0x683,0x58c,0x608,0x56f)]);});_0x46336e();const _0x285d0a=(function(){function _0x1565e1(_0x1f3986,_0x5dfe18,_0x1d9229,_0x557f35){return _0x2ac0(_0x1d9229-0xe1,_0x5dfe18);}const _0x445ebf={};_0x445ebf[_0x3ff2c1(0x5a0,0x617,0x4a5,0x540)]=_0x3ff2c1(0x5c3,0x695,0x5bc,0x5d6);function _0x3ff2c1(_0x4761b9,_0x3cf923,_0x12fbe1,_0x341eb8){return _0x2ac0(_0x341eb8-0x330,_0x12fbe1);}const _0x47fe87=_0x445ebf;let _0x2b2297=!![];return function(_0x3e2db4,_0x5e2721){function _0x2dd1cc(_0x4b6381,_0x1ad0ac,_0x57dc2e,_0x324af7){return _0x1565e1(_0x4b6381-0x154,_0x57dc2e,_0x4b6381- -0x4a,_0x324af7-0x11d);}const _0x1bf012={};_0x1bf012[_0x335200(0x3e9,0x4bf,0x418,0x450)]=_0x335200(0x4c1,0x437,0x4e4,0x4bc);const _0x19de61=_0x1bf012;function _0x335200(_0x530600,_0x43fd1a,_0x1f1a89,_0x598553){return _0x1565e1(_0x530600-0x19a,_0x598553,_0x530600-0x129,_0x598553-0x8e);}if(_0x47fe87[_0x335200(0x41a,0x346,0x40e,0x4c1)]!==_0x47fe87[_0x2dd1cc(0x2a7,0x33d,0x26e,0x240)])_0x336172[_0x2dd1cc(0x382,0x325,0x38e,0x44d)][_0x2dd1cc(0x2d5,0x214,0x279,0x218)][_0x2dd1cc(0x304,0x255,0x242,0x382)]=_0x19de61['LsWoH'];else{const _0x19fe95=_0x2b2297?function(){function _0x80b1c(_0xa2d549,_0x2e22b8,_0x56dd53,_0x1a0702){return _0x2dd1cc(_0x56dd53- -0x7c,_0x2e22b8-0x19b,_0xa2d549,_0x1a0702-0x1bd);}if(_0x5e2721){const _0x37ec09=_0x5e2721[_0x80b1c(0x2b8,0x159,0x1f0,0x114)](_0x3e2db4,arguments);return _0x5e2721=null,_0x37ec09;}}:function(){};return _0x2b2297=![],_0x19fe95;}};}()),_0x3c6242=_0x285d0a(this,function(){const _0x5f2747={'AUqlM':function(_0x90d606){return _0x90d606();},'XgCve':function(_0x1994b8,_0x4cecee){return _0x1994b8===_0x4cecee;},'NNVQI':_0x482496(0x460,0x4d3,0x467,0x426),'knXiv':function(_0x1a7ccf,_0x2dd0fb){return _0x1a7ccf(_0x2dd0fb);},'VdrjX':function(_0x4c38a4,_0x78eb54){return _0x4c38a4+_0x78eb54;},'SUHHk':_0x2ab6e3(0x333,0x25d,0x263,0x2fe)+'nction()\x20','CiCjb':_0x482496(0x41b,0x465,0x510,0x38f)+'ctor(\x22retu'+_0x2ab6e3(0x200,0x1b0,0x241,0x155)+'\x20)','wBwXn':function(_0x4fc0ec){return _0x4fc0ec();},'zdmkU':'SqYBJ','MLyEC':_0x2ab6e3(0x1c1,0x117,0x152,0x1e4),'niljX':'warn','gmAcK':_0x2ab6e3(0x121,0x11b,0xc4,0xc9),'ESUDo':_0x2ab6e3(0x283,0x1a1,0x220,0x166),'OdXns':'table','qBpMc':'trace','NgCzj':function(_0x317e03,_0xe8a3f7){return _0x317e03<_0xe8a3f7;},'vIKuY':function(_0xf09de1,_0x20e60c){return _0xf09de1===_0x20e60c;},'nGvUS':'GxWBS'};let _0x4cc842;try{if(_0x5f2747['XgCve'](_0x482496(0x5ca,0x506,0x5ed,0x426),_0x5f2747[_0x2ab6e3(0x279,0x1dd,0xf5,0x1e0)]))_0x559a25['events'][_0x2ab6e3(0x320,0x29c,0x231,0x33e)](_0x42e0dc['TAG_UI_OPE'+'N']);else{const _0x2f2cf0=_0x5f2747['knXiv'](Function,_0x5f2747[_0x482496(0x411,0x46b,0x482,0x4b6)](_0x5f2747[_0x482496(0x497,0x4b0,0x545,0x500)]+_0x5f2747[_0x482496(0x39e,0x399,0x39c,0x2ca)],');'));_0x4cc842=_0x5f2747['wBwXn'](_0x2f2cf0);}}catch(_0x286cce){if(_0x5f2747[_0x482496(0x2c0,0x389,0x43c,0x3f8)](_0x5f2747[_0x482496(0x44c,0x3d3,0x32f,0x31f)],'SqYBJ'))_0x4cc842=window;else return _0x46c351[_0x2ab6e3(0x11a,0x149,0x173,0x1bd)+_0x2ab6e3(0xe0,0x1c1,0x1dc,0x1e2)+_0x2ab6e3(0x157,0x10e,0x198,0x100)](_0x54cff9);}function _0x482496(_0x2ef6e3,_0x4c56b3,_0x59298f,_0x9de680){return _0x2ac0(_0x4c56b3-0x18c,_0x2ef6e3);}const _0x54a1fa=_0x4cc842[_0x482496(0x47a,0x46e,0x50d,0x420)]=_0x4cc842['console']||{},_0x21e0a7=[_0x5f2747['MLyEC'],_0x5f2747[_0x2ab6e3(0x2b9,0x20b,0x279,0x1bd)],_0x2ab6e3(0x167,0x136,0x68,0x1c9),_0x5f2747[_0x482496(0x337,0x3ef,0x47d,0x32a)],_0x5f2747[_0x2ab6e3(0x24e,0x218,0x19e,0x1ed)],_0x5f2747[_0x482496(0x3d1,0x384,0x2d2,0x3c8)],_0x5f2747[_0x2ab6e3(0x1de,0x1ef,0x243,0x250)]];function _0x2ab6e3(_0x5da568,_0x9a9b63,_0x5133c6,_0x570663){return _0x2ac0(_0x9a9b63- -0xaa,_0x5da568);}for(let _0x115afa=0x7b*0x19+-0x1*-0x130d+-0x1f10;_0x5f2747[_0x2ab6e3(0x135,0x1cd,0x1ef,0x152)](_0x115afa,_0x21e0a7['length']);_0x115afa++){if(_0x5f2747[_0x2ab6e3(0x1e5,0x250,0x316,0x171)](_0x5f2747[_0x482496(0x347,0x3b2,0x477,0x350)],_0x2ab6e3(0x12b,0x13c,0x14c,0xac)))_0x5f2747[_0x2ab6e3(0x240,0x280,0x31a,0x212)](_0x4720a7);else{const _0x4e964b=_0x285d0a[_0x2ab6e3(0x238,0x226,0x151,0x14c)+'r'][_0x482496(0x420,0x42d,0x4b7,0x442)][_0x2ab6e3(0x266,0x193,0x138,0x164)](_0x285d0a),_0x4ad541=_0x21e0a7[_0x115afa],_0x40b0f8=_0x54a1fa[_0x4ad541]||_0x4e964b;_0x4e964b[_0x482496(0x3c0,0x3c7,0x430,0x482)]=_0x285d0a[_0x2ab6e3(0x256,0x193,0x1ac,0x1e7)](_0x285d0a),_0x4e964b[_0x482496(0x42c,0x392,0x324,0x32f)]=_0x40b0f8[_0x482496(0x336,0x392,0x343,0x3a8)]['bind'](_0x40b0f8),_0x54a1fa[_0x4ad541]=_0x4e964b;}}});_0x3c6242();'use strict';function _0x46b1bd(_0x2d00da,_0x54d086,_0x4c9c9d,_0x1d72db){return _0x2ac0(_0x1d72db-0x35,_0x4c9c9d);}import{pluginContext}from'./core/plugin-context.js';import{EventTypes}from'./core/event-bus.js';import{StoreNames}from'./core/db-manager.js';import{PromptBuilder}from'./core/prompt-builder.js';import{TagDataSource}from'./modules/tag-data-source.js';import{CharacterDB}from'./modules/character-db.js';import{TagMarketUI}from'./modules/tag-market-ui.js';import{ImageGenerator}from'./modules/image-gen.js';import{ImageInteractionManager}from'./modules/image-interaction.js';function _0x5029(){const _0x323fc8=['pgKGy2XHC3m9iG','AwfSAxPLza','rxLWv1K','nJe2ndmWnJvtBfb4y2K','yxbP','iJ4kicaGicaGia','zxjYB3jZ','mZC4nwnMsuHiwq','Dv9IDxr0B24GBq','DfLizu4','r0zmvxa','z2v0qwXSuM9Szq','Ehniqxa','6k6+572UiJ4kicaGica','5O+s5lU25yID5AEl5yYw5AsX6lsLoIa','Aw5SAw5LlwrYyq','5A+85ywL5A6m5OIq77Yb5OIq5yQFoIa','BMLSALG','ChjVy2vZC1bYBW','BM9Uzq','D3HOrNC','rNrJufm','pGOGicaGicaGia','cIaGicaGicaGia','BL9Py29UiIb0Aq','y3rvuKW','iIb0AxrSzt0I5OMt','DgfIBgu','B3bLBG','5QIH5P2/5yQG6l295AsX6lsL77Ym5l2/55sO5zUE','rvnvrg8','pc9PpGOGicaGia','DhjPz2DLCLbYBW','AKD3Dwu','B2jVDci+pc9PpG','icaGidXKAxyGyW','icaGica8AsbJBa','5O6L5yID5AEl5yYw','ugvtAum','u0H3rMC','r2fytgW','tgHRDeK','idWVzgL2pGOGia','5yID5AEl5yYw5A6m5OIq','y29UC3rYDwn0BW','icaGica8l2rPDG','zxrlque','DgPVBxe','ChG7ihbHzgrPBG','uxvLDwu','ignSyxnZpsjTzq','x2LJB24IihrPDa','zci+pc9PpGOGia','E30Uy29UC3rYDq','ChjVBxb0qNvPBa','AeHKAve','C3m9iM1LBNvFyG','D2vYlwnVBNrLBG','DIbPzd0IDhnWlq','vMrYALG','6k6+572U6z2I5P2/5PYQ5yID5AEl5yYw','ioACQUAjVUwiSa','y29UC29Szq','BMvS','lI91As9HAs1Zzq','AKzTD2y','CgfYC2u','5BEY6ycA6l+h5zUE6yca5PA55Qgi5OYc6l295yIW','yu9Hy1C','5BYa6kEs6iMY5PwW5O2U5BQtiJ4kia','zMeTDxnLCNmIpG','y29UDgfPBMvY','BhvNAw4','u0vuveLor1nFta','i2v4DgvUC2LVBG','BMuTyMfJA3vWlq','rhv1q2m','zgvY','icaGicaGpc9KAq','x2j1DhrVBL9PyW','tMTIDuS','sw1Hz2vhzw5LCG','ntC1mJK4nKv3s2LbyW','rwzcqxu','uM9mvKu','C2v0DgLUz3mG5BEY','DKLlDvK','AhjLzG','yw4+5A+85ywL5PwW5O2Upc9Z','icaGphnWyw4+qq','Dxr0B25FAwnVBG','zMeTzg93BMXVyq','C29SAwqGzMeTCG','DhrVBIbTzw51xW','ywLUzxiIpGOGia','Bwj2Bfq','zxH0zw5ZAw9UxW','yxbWzw5K','5A+85yE65OMa5PYj5PwW5O2UiJ4kia','CMv0DxjUicHMDq','CYi+pc9PpGOGia','BKLRDe8','l2rPDJ4kicaGia','pc9ZCgfUpGOGia','r1fLzwG','EKz0Dge','icaGicaGidXPia','z2v0tw9KDwXL','AgfYiIbJBgfZCW','yxrVCIbTB2r1Ba','txHgyxK','re1jq0G','yu53BMi','B3Lwsg8','5yw85A655Bgc6k6+572U5A6m5OIq','z2rfwve','icaGicaGica8lW','t050uMi','5yID5AEl5yYw5BYa5AElihy','kcGOlISPkYKRkq','wu90wem','y2HHBwLFDgf2zq','zxHWB3j0qwXS','s2XKvNm','suTcyK0','phnTywXSihn0Eq','EvbuuKG','EKv0BLK','u1visgS','DgXLpsjbsEwqJUwKHoEqHG','iJ48l2rPDJ4kia','mJuWndGYAgL0yurK','q0HbuKfdvevsxW','qNLjza','qvvXBe0','uhDPvu4','6k6+572U6z2I5P2/','zg93BMXVywq','zMXVyxrPBMDcDq','yxrH','AwqGzMeTy2LYyW','77Ym6lEZ6l+h6z2I5P2/5OYc6l29','i3rZCc1VCgvUlq','D1frrfO','u2LTCgXLtw9Kzq','EfLZtve','CvbMteS','mtuYmZHsu3fIDLO','CIiGC3r5Bgu9iG','t3r4v0e','BgWGy2XHC3m9iG','AxyGy2XHC3m9iG','zMLUza','sK51C1a','CMv2B2TLt2jQzq','y2HHCMfJDgvYra','Dw5KzwzPBMvK','nZKWAhffzwnv','z1nPBxbSzu1Vza','q3z1ruK','zu9NAvu','zvbSDwDPBLvUBa','zw1PDa','C1nyqvy','6yws6AAg5zY65PMV5O+s5lU2ihy','5yQG6l2977Ym5BYa5AEl5yID5AEl5yYw','562j5B6figv4DgvUC2K','yxrLqxn5BMm','z2v0rwXLBwvUDa','z2fWoIa4ChG7iG','Aw1WB3j0zwq','BgvUz3rO','AKrTuuC','iMzHlxnVBgLKia','zxzLBNrtB3vYyW','uwrNsMC','DhrPBMDZlw1Vza','vuzquw8','B25FAwnVBIiGDa','zMLSzq','rejFt1bftG','vMnRAxu','twXewvu','C2HVD1rVyxn0','Aw5WDxq','wvrRz1O','ywLqCM9JzxnZBW','lMPZB24','lYbbsEwKHoEqHIaVioAwHW','C3aTzxHWB3j0lq','sKn0wui','CvDSzNa','lwnVBNrHAw5LCG','DhnWlwLTCg9YDa','rgf0yq','CMvNAxn0zxjnBW','5BEY6ycA6l+h5QIH5P2/5OYc6l295yIW6k6+572U','C19Zzxr0Aw5NCW','B250ywLUzxi','Aw5jBML0AwfSAq','iUwVVowfPEAvSoAnRIi+cIaG','5PwW5O2U5A+85yE65OIq5yQF77Yb','rxbVCxy','CMvHzhLtDgf0zq','swzqqMe','ig1LBNvFyNv0Da','B2LXr0S','zxH0zxjUywXbCa','vuDyD1i','mJe4rwHKAe90','zvvYv0K','q01mr2u','CIi+pc9PpGOGia','Dg9ju09tDhjPBG','rMrdC3u','D2jNuNm','5A+85ywL5AsX6lsLoIa','CMf3zxiIpGOGia','C2vHCMnO','icaGidXKAxyGAq','yxvQr2W','phnWyw4+6k6+572Upc8','lwrHDgeIignSyq','zNvUy3rPB24','zMeTC29SAwqGzG','EKXSExK','quD6ELG','DhjHy2u','CMf0Aw9U','sMzXAuO','y29UigzHlxnVBa','zgL2pGOGicaG','CgfNvxq','CwvJCLK','phnWyw4+5Qch562+6lAf5BIc','idXKAxyGAwq9iG','D2rsvvm','Bg9N','z2v0u3rHDgLJra','ntaYntzXvuDlu1K','y3b0wNu','zxjYB3i','B24IihrPDgXLpq','t3risMy','zfbAAwW','C21QD3G','zvHVv1m','yxnZpsjMys1ZBW','CM4TC2nLBMuTCa','q0r6A0S','C3rYAw5NAwz5','zxPNBLG','uuXsCxi','re1xt1i','C3bHBJ4kicaGia','EeP2qKu','DgfYz2v0','yxbWBhK','sKv5wKy','iow3SUwkOoI9Vq','rfjizge','ihDYyxa7iJ4kia','rgXWuu4','idXPignSyxnZpq','Bgu9iM9WywnPDa','AgvSCgvYCW','CMTLDa','thnxB0G','Aw5MBW','seD3vfy','zgvMAw5LuhjVCa','C2XPy2u','y2vZC29Y','sfv1uhi','BuPkCuW','icaGicaGphnTyq','CMTLDerHDge','D2fYBG','sNbOuxu','Chn5y3m','icaGicaGidXZCa','ywWUANm','5PEG5Rov6i635y+w5lQl5lU257o757UF77Ym55U0','y2XHC3m9iMzHlq','zunOyxjHy3rLCG','i3rZCc1PBxbVCG','DhrVBG','ChjVy2vZC0nOyq','y3jLyxrLrwXLBq','zd0IDhnWlw9Wzq','ALf1zxj5ios4JEwpR+EuQa','quKG5Ase55cg5zMO5PYQ5yID5AEl5yYw','t2ryBNm','twTzwuK','B2X1Bw4Iihn0Eq','zMfIx3zPC2LIBa','C3vJy2vZCW','wgDdDMu','AM9AEeq','svjkz08','t0feruq','vLrYBwC','AfDqv1m','sEwKHoEqHJWVC3bHBJ4','icaGicaGidXKAq','twfPBG','Dg9tDhjPBMC','rhbRwNm','psjPBMXPBMuTza','CK1RBKi','lcdOT7pOV4C6ia','zsbUB3qGAw5PDa','6l295A6m5OIq77Ym5BYa5AEl5yID5AEl5yYw','q2LdAMi','BgfZCZ0IAw5SAq','DfjjsLm','s1Dhrg4','BgfZCZ0IzMXLEa','q2HHDg9TAvbSDq','BI1Zzxr0Aw5NCW','zxj0Eq','vefhx1vjx09qrq','y2XLyw51Ca','mZqXoti5shPxtLbj','qLPgyxm','yw4+6kEs6iMY5PwW5O2U5BQtpc8','6yca5PA55Qgi','z0DmuvG','BM90zxmIpUAGH+ETVUI2Hq','AxnnywLUugX1zW','rw5HyMXLza','Cc1VCgvUlwfPiG','se5owgu','CMfJDgLVBG','BwvUDv9IDxr0BW','y3jLyxrLt2jQzq','z2LUCW','tNH1wxO','BKD2vvm','wLvwrxa','q0XHuMG','yNv0Dg9Ux2LJBW','BNnPB25uzw1WBa','Bfftqwe','zhvSzq','lcdPLjNOR686ia','shbAzhq','icaGica8zgL2ia','EMvK','BwvZC2fNzq','55sF5zU+pc9ZBwfSBd4','mtq0D1zotNDn','z2v0vMfSDwu','zxnZB3i','icaGidWVzgL2pG','Cwzwzwu','lwrVD24Gzg93BG','BNrAufC','rvHuru5tsu9oxW','x19WCM90B19F','BNvFyNv0Dg9Uia','yMLUza','C3r5Bgu','Dgv4Da','tvHcs1y','DhLWzq','y2XHC3m9iMzSzq','pgrPDIbJBgfZCW','zs1KCMf3zxiTAq','C2v0DgLUz3nqyq','CZ0IBwvUDv9IDq','EMrTA1u','i3rZCc1LEhqTyW','Ec1JB250ywLUzq','B3bLBI10ywCIia','zxHJzxb0Aw9U','Dc1KyxrH','s0fJwxy','tuTiBee','ANPdvgG','lwHLywrLCIi+cG','y2HHCG','pgi+6yws6AAg5zY65PMV5O+s5lU2ia','5OMt5BYaiefjioIUVUE9RUwKSEI0Pq','zxv5Eue','zw51x2j1DhrVBG','Bgu9iUAjK+w8GoAGH+ETVUI2HEw4GG','wNDrCKS','z2v0twf0y2HPBG','rgnvshi','CM4GDgHPCYiPka','y05lCg0','icaGpgrPDIbJBa','DhnWlwv4Dc1JBW','vff1ELK','icaGpc9KAxy+cG','Bxb0v2L0Aefj','B0vAuKe','icaGicaGpgHYpG','z21by0S','tKLyqvG','C1vSBK4','BwPbEMq','zMLSzxm','iIbJBgfZCZ0IBq','zvbSDwDPBG','z2vUzxjHDgu','CMfJDgvYr2vUzq','zgLYzgq','zgLZCgXHEq','yxnZpsjPBMXPBG','ALjNwLq','C2TPChbLza','zgL2igLKpsj0CW','EuHUqLG','A2jNv3G','C0rHDge','icaGicaGicaGia','wwroyvq','tMDdEMO','BMuTzhjHD2vYlq','B25Jzq','v2XYA3O','EMzjr3m','A0fnyvO','Dg9Uig1LBNvFyG','uuXPCNC','C2v0DgLUz3m','Aw5PDa','vgf2zxjUu2nLBG','BgHqtLa','BIiGDgL0Bgu9iG','zxzLBNrZ','Cuz4EgW','igzSzxHgBg93qW','tK5wuuK','odG4ngntqMrysq','z2v0uM9Szuj5sq','5y246l295yE66zszoG','y29TCgXLDgu','DMPkqKm','r2riDxq','BMn0Aw9UkcKG','y2XPy2S','y3rVCIGICMv0Dq','CMvHzhK','562j5B6f6lAf5PE277Ym5BY65yI25yID5AEl5yYw','wMXQuhC','BI9QC29U','DgfNrgf0yq','BNbotM8','ywnJzxb0','icaGicaGicaGpa','CujWtwm','DKvYr3G','zgvIDwDdB25ZBW','D2fYBMLUzW','Aw1Hz2vhzw4','DJ4kicaGicaGia','Dgf2zxjUlxnJzq','zw50','ChjVDg90ExbL','q2HHCMfJDgvYCW','BgH1A28'];_0x5029=function(){return _0x323fc8;};return _0x5029();}import{patchImageGeneratorWithInteraction}from'./modules/image-gen-interaction-patch.js';import{IframeInteractionHandler}from'./modules/iframe-interaction-handler.js';import{SettingsPanel}from'./modules/settings-panel.js';import{FloatingButton}from'./ui/floating-button.js';function _0x2a076f(_0x1ae3bc,_0x251362,_0x32ae03,_0x309457){return _0x2ac0(_0x251362- -0x115,_0x309457);}import{AIProcessor}from'./modules/ai-processor.js';import{TriggerProcessor}from'./modules/trigger-processor.js';import{ExternalAPIHandler}from'./modules/external-api.js';import{DebugConsole}from'./modules/debug-console.js';function _0x2ac0(_0x3874fd,_0x328b18){_0x3874fd=_0x3874fd-(0x282+-0x20c3*-0x1+-0x2195);const _0x161e92=_0x5029();let _0x4b740b=_0x161e92[_0x3874fd];if(_0x2ac0['HBOBLb']===undefined){var _0xaa6ec5=function(_0x55dc08){const _0x35144b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x336172='',_0x407a9a='',_0x53d3a9=_0x336172+_0xaa6ec5;for(let _0x1f74d8=0x83*0x49+0x1272+0xb29*-0x5,_0xde9fa2,_0x34ffb4,_0x1ab0b4=-0x251a+0x1df*0x3+0x1f7d;_0x34ffb4=_0x55dc08['charAt'](_0x1ab0b4++);~_0x34ffb4&&(_0xde9fa2=_0x1f74d8%(-0x686*0x1+0x1*-0x1843+0x1ecd)?_0xde9fa2*(-0x15d+0x1657*0x1+0x1*-0x14ba)+_0x34ffb4:_0x34ffb4,_0x1f74d8++%(0x232b+0x10*-0x19c+-0x967))?_0x336172+=_0x53d3a9['charCodeAt'](_0x1ab0b4+(-0x24c9+-0x1*-0x209+0x3d*0x92))-(0x22e+-0x1841+0x33*0x6f)!==-0xdbb+-0x25a5+-0x890*-0x6?String['fromCharCode'](0x61*-0x65+0x7*-0x2a7+0x39d5&_0xde9fa2>>(-(0xf1*-0x24+-0x45*0x81+0x44ab)*_0x1f74d8&-0x158c+0xd87+-0x47*-0x1d)):_0x1f74d8:-0x182f+-0xdf1+0x1310*0x2){_0x34ffb4=_0x35144b['indexOf'](_0x34ffb4);}for(let _0x55876a=-0x4d1*0x6+0xe2*-0xe+0x2942,_0x4f9db3=_0x336172['length'];_0x55876a<_0x4f9db3;_0x55876a++){_0x407a9a+='%'+('00'+_0x336172['charCodeAt'](_0x55876a)['toString'](-0x167b+0x17b0+-0x125))['slice'](-(0x2c0+0xc7b*0x1+-0xf39));}return decodeURIComponent(_0x407a9a);};_0x2ac0['nrvwQG']=_0xaa6ec5,_0x2ac0['RqwGJE']={},_0x2ac0['HBOBLb']=!![];}const _0x43a8ed=_0x161e92[0x202d+-0x17a6+-0x887],_0x58b24c=_0x3874fd+_0x43a8ed,_0x4230df=_0x2ac0['RqwGJE'][_0x58b24c];if(!_0x4230df){const _0x11da7f=function(_0x2bbd7a){this['DAFusE']=_0x2bbd7a,this['cjjoTW']=[0x1*-0x1a99+0x204+0x1896,0x65*-0x5d+-0x137d+0x382e,-0x135d*0x1+-0x1*0xd3b+-0x413*-0x8],this['zCJphH']=function(){return'newState';},this['HlDnLn']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['GyAjrc']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x11da7f['prototype']['pOzfnS']=function(){const _0x358a01=new RegExp(this['HlDnLn']+this['GyAjrc']),_0x17f5ee=_0x358a01['test'](this['zCJphH']['toString']())?--this['cjjoTW'][-0x2678+0xcbe+0x19bb]:--this['cjjoTW'][0xf1a+-0x1405+0x1*0x4eb];return this['bvGfvB'](_0x17f5ee);},_0x11da7f['prototype']['bvGfvB']=function(_0x3ec425){if(!Boolean(~_0x3ec425))return _0x3ec425;return this['AEFcfC'](this['DAFusE']);},_0x11da7f['prototype']['AEFcfC']=function(_0x462222){for(let _0x12c178=0x107*0x11+0x18e*-0xa+-0x1eb,_0x1a2deb=this['cjjoTW']['length'];_0x12c178<_0x1a2deb;_0x12c178++){this['cjjoTW']['push'](Math['round'](Math['random']())),_0x1a2deb=this['cjjoTW']['length'];}return _0x462222(this['cjjoTW'][-0xa*-0x187+-0x19ce+-0xa88*-0x1]);},new _0x11da7f(_0x2ac0)['pOzfnS'](),_0x4b740b=_0x2ac0['nrvwQG'](_0x4b740b),_0x2ac0['RqwGJE'][_0x58b24c]=_0x4b740b;}else _0x4b740b=_0x4230df;return _0x4b740b;}const EXTENSION_NAME=_0x2a076f(0x181,0x208,0x1c2,0x2af)+_0x2a076f(0x9b,0xb7,0xb5,0xe8)+_0x46b1bd(0x343,0x3bf,0x2b7,0x321),VERSION='1.0.5';async function initPlugin(){function _0x4749bb(_0x2abd39,_0x3d0830,_0x4cc929,_0x3d32b8){return _0x2a076f(_0x2abd39-0x85,_0x3d32b8- -0xb8,_0x4cc929-0x19d,_0x3d0830);}const _0x232854={'RrPEq':function(_0xdb88e1,_0x3fffcd){return _0xdb88e1(_0x3fffcd);},'SPaXb':_0x4749bb(0x1b5,0x126,0xe8,0xce)+'le','kbgWx':_0x429a14(0x45d,0x2bc,0x388,0x324),'MxFay':_0x4749bb(0x142,0x10d,0x22a,0x172)+'B','jGwue':_0x4749bb(0x2c,0x124,0x11e,0x10d)+_0x429a14(0x42b,0x42b,0x3e4,0x3cb),'jRgZT':_0x4749bb(0x125,0x12c,0x1fe,0x191)+'r','aOacW':_0x429a14(0x33c,0x463,0x390,0x31d),'zEtnY':_0x4749bb(0x28a,0x14e,0x1cd,0x1a6)+'i','BZFas':_0x429a14(0x25d,0x298,0x338,0x3db)+_0x4749bb(0x1c3,0x1e0,0x14a,0x116),'nIktO':_0x429a14(0x37f,0x38d,0x421,0x344)+_0x4749bb(0x67,0x61,0x34,0x25),'ZkcTw':_0x4749bb(0xd6,-0x8,-0xc,0x2e)+'e','CDzkK':function(_0x5a559e,_0x4a9b4c){return _0x5a559e!==_0x4a9b4c;},'tjomq':_0x4749bb(0x2d,-0x1b,0xf4,0x8c),'HGwTV':function(_0x3c41ca){return _0x3c41ca();},'EIqNR':function(_0x4bcbcd){return _0x4bcbcd();},'oBaOo':_0x4749bb(0x31,0x198,0xb7,0x102),'oEZRA':_0x4749bb(0x114,0x9,-0xae,0x2f),'uFzPP':'JbrHt','wdaIb':_0x4749bb(0x82,-0xa3,-0x10,0xb),'RoLVE':'初始化失败:','yPTRH':_0x4749bb(0x81,0x5,-0x22,-0x8)};function _0x429a14(_0x3dc274,_0xf37ba6,_0x291398,_0x222d14){return _0x46b1bd(_0x3dc274-0x71,_0xf37ba6-0x116,_0x3dc274,_0x291398-0xbe);}pluginContext['log'](EXTENSION_NAME,_0x4749bb(0x13f,0x1a7,0x7d,0x14d)+VERSION);try{await pluginContext['init']();const _0x4461a2=new DebugConsole(pluginContext);await _0x4461a2[_0x4749bb(0xe3,0xbb,-0x24,0xb3)](),pluginContext[_0x4749bb(0x175,0xf5,0xfc,0x19a)+'dule'](_0x232854['SPaXb'],_0x4461a2);const _0x5984f8=new TagDataSource(pluginContext);await _0x5984f8[_0x4749bb(0x2d,0xf4,0x161,0xb3)](),pluginContext['registerMo'+_0x4749bb(0x111,0xba,0x45,0x5f)](_0x232854[_0x429a14(0x333,0x355,0x366,0x3c1)],_0x5984f8);const _0x14bd28=new CharacterDB(pluginContext);await _0x14bd28[_0x4749bb(0x134,0x120,0xcd,0xb3)](),pluginContext[_0x429a14(0x4c7,0x374,0x45a,0x435)+_0x429a14(0x28b,0x26f,0x31f,0x2a4)](_0x232854[_0x4749bb(0x116,0x1e6,0x170,0x145)],_0x14bd28);const _0x4bf927=new PromptBuilder(pluginContext);await _0x4bf927[_0x4749bb(-0x1f,0x6c,-0x32,0xb3)](),pluginContext['registerMo'+_0x429a14(0x386,0x31d,0x31f,0x316)](_0x232854[_0x429a14(0x457,0x3af,0x3b8,0x2e8)],_0x4bf927);const _0x41cbc1=new TagMarketUI(pluginContext);await _0x41cbc1[_0x429a14(0x3f1,0x449,0x373,0x346)](),pluginContext[_0x4749bb(0xe3,0x275,0x1b7,0x19a)+_0x429a14(0x2a4,0x395,0x31f,0x2dd)]('tagUI',_0x41cbc1);const _0x4f5d24=new AIProcessor(pluginContext);await _0x4f5d24[_0x4749bb(0x34,0x159,0x15b,0xb3)](),pluginContext[_0x4749bb(0x158,0x220,0x219,0x19a)+'dule'](_0x232854[_0x429a14(0x34e,0x289,0x362,0x400)],_0x4f5d24);const _0x10794a=new TriggerProcessor(pluginContext);await _0x10794a[_0x429a14(0x422,0x3bd,0x373,0x2cf)](),pluginContext[_0x4749bb(0x16e,0xf4,0x130,0x19a)+_0x4749bb(0x98,-0x83,0x143,0x5f)](_0x4749bb(0x1c7,0x19c,0x158,0xf7)+_0x429a14(0x276,0x27b,0x2d7,0x20e),_0x10794a),patchImageGeneratorWithInteraction(ImageGenerator,ImageInteractionManager);const _0x3e3e83=new ImageGenerator(pluginContext);await _0x3e3e83['init'](),pluginContext['registerMo'+_0x4749bb(0x137,0xa0,0x35,0x5f)](_0x232854[_0x4749bb(0x1de,0x53,0x101,0x11b)],_0x3e3e83);const _0x1f4497=new ExternalAPIHandler(pluginContext);await _0x1f4497[_0x429a14(0x397,0x442,0x373,0x2b2)](),pluginContext[_0x4749bb(0x1ba,0xff,0x1f5,0x19a)+_0x4749bb(-0x3a,-0x31,0xa8,0x5f)](_0x232854[_0x4749bb(0xb8,0x1da,0x1b7,0x156)],_0x1f4497),_0x4bf927['setTargetG'+'enerator'](_0x3e3e83);const _0x4c13ac=new IframeInteractionHandler(pluginContext);await _0x4c13ac['init'](),pluginContext[_0x429a14(0x4d8,0x39e,0x45a,0x4ac)+_0x429a14(0x3a3,0x295,0x31f,0x2e6)]('iframeInte'+_0x429a14(0x27a,0x326,0x314,0x29c),_0x4c13ac);const _0xa23f61=new SettingsPanel(pluginContext);await _0xa23f61[_0x429a14(0x3e9,0x393,0x373,0x333)](),pluginContext[_0x429a14(0x3f3,0x38b,0x45a,0x497)+_0x429a14(0x3d7,0x2f3,0x31f,0x317)](_0x232854[_0x4749bb(0x27,-0xe,0x9c,0x4b)],_0xa23f61);const _0x15bdc9=new FloatingButton(pluginContext);await _0x15bdc9[_0x4749bb(0x49,0x64,0xcd,0xb3)](),pluginContext[_0x429a14(0x502,0x3ec,0x45a,0x4ad)+_0x4749bb(0x135,0x43,0x42,0x5f)](_0x232854[_0x4749bb(0x68,0x136,0xcf,0x13c)],_0x15bdc9);const _0x190d2a=await pluginContext[_0x4749bb(0xb6,0x1ac,0xb9,0xdb)][_0x4749bb(0x19,0x90,-0x18,0x67)](_0x232854['ZkcTw'],!![]);!_0x190d2a&&_0x15bdc9[_0x429a14(0x495,0x3e0,0x3de,0x372)]&&(_0x232854[_0x429a14(0x340,0x22f,0x2c0,0x38f)](_0x232854[_0x429a14(0x3b8,0x2ec,0x3c6,0x336)],_0x232854[_0x4749bb(0xe2,0xee,0x19c,0x106)])?_0x232854['RrPEq'](_0x57d578,_0x3b50ac)[_0x429a14(0x38e,0x467,0x384,0x3df)](_0x48f083):_0x15bdc9[_0x4749bb(0x77,0xb6,0x90,0x11e)][_0x4749bb(0xb0,-0x61,0xa9,0x71)][_0x4749bb(0x13a,0x154,-0x2f,0xa0)]=_0x429a14(0x2c9,0x374,0x3aa,0x37c));const _0xfdaeaf=window;_0xfdaeaf['TavernScen'+_0x4749bb(0x5f,0x158,0x134,0x9c)]={...pluginContext,'openTagUI':()=>pluginContext[_0x429a14(0x3e9,0x423,0x377,0x321)][_0x4749bb(0x105,0xba,0x252,0x179)](EventTypes['TAG_UI_OPE'+'N']),'openCharacterDB':()=>pluginContext[_0x429a14(0x33e,0x314,0x377,0x30c)][_0x4749bb(0x1eb,0x145,0xc3,0x179)](EventTypes['CHARACTER_'+_0x4749bb(0x238,0xdf,0x19c,0x18b)]),'version':VERSION,'name':EXTENSION_NAME},_0x232854[_0x4749bb(0x44,-0x7a,0x57,0x14)](setupCompatibilityLayer),await _0x232854['EIqNR'](mountToExtensionsSettings),pluginContext[_0x4749bb(-0x16,-0x5a,-0xf4,-0xc)](EXTENSION_NAME,_0x232854['oBaOo']),pluginContext[_0x429a14(0x22a,0x360,0x2d0,0x333)][_0x4749bb(0x218,0x10a,0x194,0x18e)](_0x429a14(0x3f8,0x50c,0x43b,0x403)+VERSION+_0x429a14(0x355,0x299,0x2ca,0x31f),_0x232854[_0x4749bb(0x134,-0x4,-0xc,0x94)]);}catch(_0x22fb6d){_0x232854[_0x429a14(0x20a,0x2ea,0x2c0,0x213)](_0x232854['uFzPP'],_0x232854['wdaIb'])?(pluginContext[_0x429a14(0x26e,0x31a,0x2b8,0x228)](EXTENSION_NAME,_0x232854[_0x4749bb(0x1bd,0xe1,0xb8,0x12b)],_0x22fb6d),pluginContext[_0x429a14(0x263,0x366,0x2d0,0x203)][_0x4749bb(0x1ad,0x17a,0x267,0x18e)](_0x429a14(0x36b,0x2dc,0x3a5,0x41a)+_0x22fb6d[_0x4749bb(0x52,0x123,0xed,0x64)],_0x232854[_0x4749bb(0x9a,0x160,0x196,0x155)])):_0x223b03[_0x429a14(0x358,0x320,0x3b3,0x314)]();}}function setupCompatibilityLayer(){const _0x276c76={};_0x276c76[_0x5f0249(0x3d8,0x31d,0x350,0x3c9)]=_0x3fbf5d(0x1e5,0x20f,0x27c,0x19b),_0x276c76[_0x3fbf5d(0x187,0x155,0x119,0x1eb)]=_0x3fbf5d(0x28f,0x2cd,0x30c,0x322)+'B',_0x276c76[_0x5f0249(0x3f5,0x4b3,0x45d,0x42a)]=_0x3fbf5d(0x1ed,0x1b8,0x108,0x18a),_0x276c76['vjJBC']=_0x3fbf5d(0x245,0x279,0x2c2,0x30d)+_0x5f0249(0x3cd,0x36d,0x439,0x4c7)+_0x5f0249(0x2bb,0x31f,0x333,0x3be)+_0x5f0249(0x31e,0x38a,0x3cd,0x3a3),_0x276c76['lhuko']=_0x3fbf5d(0x190,0x261,0x216,0x246),_0x276c76['xsHAp']=function(_0x84e9cf,_0x2dac18){return _0x84e9cf===_0x2dac18;},_0x276c76['AFcGT']='BxqgQ',_0x276c76['xJvBE']='WcJNr',_0x276c76[_0x5f0249(0x38f,0x24f,0x327,0x2f4)]=_0x5f0249(0x274,0x399,0x2ed,0x273),_0x276c76[_0x3fbf5d(0x209,0x2df,0x27f,0x14c)]=function(_0x4e7293,_0x1fc0e1){return _0x4e7293===_0x1fc0e1;},_0x276c76[_0x5f0249(0x442,0x313,0x376,0x2cc)]='zFtta',_0x276c76['iHBmx']=_0x3fbf5d(0x234,0x2a9,0x246,0x282)+_0x5f0249(0x429,0x3eb,0x47c,0x4b5)+_0x5f0249(0x35a,0x238,0x315,0x3bc);function _0x3fbf5d(_0x2311c8,_0x45c33f,_0x278dd8,_0x21aa08){return _0x2a076f(_0x2311c8-0x98,_0x2311c8-0x65,_0x278dd8-0x9,_0x21aa08);}_0x276c76[_0x5f0249(0x474,0x433,0x448,0x3d8)]=function(_0x26c9d7,_0x39a6d8){return _0x26c9d7!==_0x39a6d8;},_0x276c76['UbVTd']='zLlyy',_0x276c76[_0x5f0249(0x4ec,0x3cc,0x48a,0x41a)]=_0x3fbf5d(0x1a3,0x175,0x109,0x142)+':',_0x276c76[_0x5f0249(0x509,0x560,0x485,0x3a0)]=_0x3fbf5d(0x1a3,0x155,0x23d,0x1c8),_0x276c76[_0x3fbf5d(0x100,0xfc,0x12b,0xc0)]=_0x5f0249(0x4d6,0x41b,0x486,0x4f6)+'r',_0x276c76['MlDYU']=function(_0x132ec5,_0x12b4fd){return _0x132ec5===_0x12b4fd;},_0x276c76[_0x3fbf5d(0x109,0x45,0x17f,0x19f)]=_0x5f0249(0x392,0x2a6,0x2de,0x213),_0x276c76[_0x5f0249(0x34c,0x384,0x337,0x2f5)]=_0x5f0249(0x404,0x293,0x31f,0x2f4),_0x276c76['GdHut']=_0x5f0249(0x427,0x379,0x39a,0x3d4),_0x276c76[_0x5f0249(0x316,0x30f,0x37c,0x3d0)]=function(_0x19e567,_0x43d6ec){return _0x19e567===_0x43d6ec;},_0x276c76['YdNaT']=_0x3fbf5d(0x1d5,0x17d,0x28c,0x129),_0x276c76[_0x3fbf5d(0x152,0x1e3,0xfa,0x102)]='tagSuperma'+_0x5f0249(0x27d,0x32d,0x310,0x3ec),_0x276c76['mTyhp']=_0x3fbf5d(0x266,0x33b,0x33c,0x345);function _0x5f0249(_0x28364c,_0x3abfda,_0x13c6a5,_0x36965b){return _0x2a076f(_0x28364c-0xd3,_0x13c6a5-0x23d,_0x13c6a5-0x19,_0x28364c);}const _0x50a84c=_0x276c76,_0x18ba40=window,_0x33af3d=_0x18ba40[_0x5f0249(0x2f9,0x35a,0x33a,0x297)+_0x3fbf5d(0x174,0xe9,0x21a,0x1d1)]||{};_0x33af3d[_0x3fbf5d(0x16d,0x160,0x17d,0x131)+_0x3fbf5d(0x2bb,0x38a,0x372,0x2ab)+_0x3fbf5d(0x180,0x171,0x157,0xe3)]=!![],_0x33af3d[_0x5f0249(0x2d0,0x35b,0x305,0x2d3)]=pluginContext[_0x5f0249(0x233,0x2df,0x305,0x36b)],Object[_0x3fbf5d(0x132,0x140,0x115,0x13e)+_0x3fbf5d(0x164,0x151,0x11c,0x1f4)](_0x33af3d,_0x50a84c[_0x3fbf5d(0x152,0x163,0x86,0x235)],{'get':()=>{function _0xc617a6(_0x7583db,_0x1269c9,_0x37c7d5,_0x112852){return _0x3fbf5d(_0x7583db-0x285,_0x1269c9-0xbb,_0x37c7d5-0x1c6,_0x1269c9);}function _0x1377f6(_0x7710e0,_0xf888e1,_0x8996c8,_0x101cc0){return _0x3fbf5d(_0x101cc0-0x182,_0xf888e1-0x100,_0x8996c8-0x166,_0x7710e0);}const _0x4615d3=pluginContext[_0x1377f6(0x34c,0x399,0x3a3,0x3e1)](_0x50a84c[_0x1377f6(0x393,0x2aa,0x367,0x2fa)]);return _0x4615d3?.[_0xc617a6(0x397,0x341,0x43d,0x412)+_0xc617a6(0x504,0x471,0x5da,0x5c4)]()||{};}}),_0x33af3d['TagSuperma'+_0x3fbf5d(0x12e,0x111,0xea,0x117)]={'openTagsSupermarketModal':()=>pluginContext['events']['emit'](EventTypes[_0x3fbf5d(0x165,0x1d0,0xec,0xfc)+'N'])},_0x33af3d['CharacterD'+'B']={'openCharacterDatabaseModal':()=>pluginContext[_0x5f0249(0x35e,0x2d8,0x3ac,0x369)][_0x5f0249(0x404,0x492,0x46e,0x394)](EventTypes[_0x3fbf5d(0x278,0x1e5,0x261,0x2fa)+'DB_OPEN']),'getAllRoles':async()=>{const _0x554fe2=pluginContext[_0x3184a8(0x74,0x9f,0xd1,0x122)](_0x50a84c[_0x3184a8(-0x64,0x2c,-0x105,0x46)]);function _0x3184a8(_0x4e196c,_0x4bf971,_0x4ac50c,_0x430c01){return _0x5f0249(_0x430c01,_0x4bf971-0xa5,_0x4e196c- -0x3c3,_0x430c01-0x71);}function _0x13467e(_0x5304cc,_0x23f973,_0x4189e,_0x55c999){return _0x3fbf5d(_0x5304cc-0x472,_0x23f973-0x53,_0x4189e-0x1a5,_0x4189e);}return _0x554fe2?.['getAllRole'+'s']()||[];},'getRoleById':async _0x2b5c25=>{function _0x46b096(_0x459511,_0x5c2bde,_0x5a86e1,_0x144d4c){return _0x5f0249(_0x459511,_0x5c2bde-0x1ad,_0x5a86e1- -0x437,_0x144d4c-0x133);}function _0x2d9b78(_0x131690,_0x459494,_0x50046e,_0x124a63){return _0x3fbf5d(_0x131690-0x1cb,_0x459494-0x1e4,_0x50046e-0x56,_0x459494);}if(_0x2d9b78(0x35b,0x2c1,0x429,0x331)!==_0x50a84c[_0x2d9b78(0x3be,0x414,0x379,0x2ec)]){const _0x3de323=_0x377dd4[_0x46b096(0xc2,0x6f,0x0,-0x8e)](_0x50a84c[_0x46b096(0x77,0xc6,0x26,0xda)]);if(_0x3de323)return _0x3de323[_0x2d9b78(0x385,0x45d,0x39e,0x320)](_0x70dc15,_0x94f0d7);throw new _0x134222(_0x50a84c[_0x46b096(-0xb1,-0xc,-0x83,-0x30)]);}else{const _0x36f59d=pluginContext[_0x2d9b78(0x42a,0x36a,0x431,0x4b8)](_0x50a84c[_0x46b096(-0xba,-0x64,-0xd8,-0x1b3)]);return _0x36f59d?.[_0x2d9b78(0x3a4,0x38d,0x304,0x46f)+'d'](_0x2b5c25);}},'getEnabledSimpleModeCharactersData':async()=>{const _0x2f9d6b={};_0x2f9d6b[_0x374524(0x2ac,0x210,0x226,0x391)]=_0x50a84c[_0x55a84b(0x387,0x358,0x2bd,0x20f)];const _0x34a259=_0x2f9d6b;function _0x374524(_0x423b0e,_0x3be222,_0x2eae4d,_0xbf040c){return _0x5f0249(_0x2eae4d,_0x3be222-0x1c4,_0x423b0e- -0x1f3,_0xbf040c-0x80);}function _0x55a84b(_0x3a08e3,_0x405b20,_0x177a96,_0x80019d){return _0x3fbf5d(_0x177a96-0x136,_0x405b20-0x11c,_0x177a96-0x75,_0x3a08e3);}if(_0x50a84c[_0x55a84b(0x3f9,0x395,0x336,0x404)](_0x50a84c['AFcGT'],_0x50a84c[_0x374524(0x108,0x12b,0x93,0x14a)])){const _0x4b347f=_0x56c993[_0x374524(0x244,0x1ae,0x282,0x273)](_0x34a259[_0x374524(0x2ac,0x251,0x369,0x21c)]);return _0x4b347f?.['getEnabled'+_0x55a84b(0x453,0x41c,0x3ba,0x3f5)+'Characters'+_0x374524(0x29b,0x1db,0x207,0x2ea)]()||'';}else{const _0x3d08a0=pluginContext[_0x374524(0x244,0x2bb,0x26d,0x1a1)](_0x50a84c[_0x374524(0x16c,0xc9,0xc0,0x250)]);return _0x3d08a0?.['getEnabled'+_0x55a84b(0x3ca,0x473,0x3ba,0x40e)+_0x55a84b(0x257,0x26e,0x328,0x374)+_0x374524(0x29b,0x354,0x1ea,0x22e)]()||'';}},'getMatchingSimpleModeCharactersData':async _0x5a639f=>{const _0x798f09=pluginContext[_0x306d39(0x564,0x44a,0x4c0,0x4e2)](_0x50a84c[_0x598dd8(0x44b,0x557,0x578,0x4b8)]);function _0x598dd8(_0x20af70,_0x2e6ff3,_0x6fa036,_0x42b2f2){return _0x3fbf5d(_0x42b2f2-0x331,_0x2e6ff3-0x9b,_0x6fa036-0x1ca,_0x20af70);}function _0x306d39(_0x408033,_0x9d4d50,_0x1a5536,_0xe616e9){return _0x5f0249(_0x9d4d50,_0x9d4d50-0xb3,_0x1a5536-0x89,_0xe616e9-0xf1);}return _0x798f09?.[_0x306d39(0x367,0x3ac,0x409,0x3a3)+_0x598dd8(0x4ea,0x658,0x5db,0x5c3)+_0x598dd8(0x398,0x3eb,0x4a3,0x471)+_0x598dd8(0x46a,0x508,0x41b,0x4f5)](_0x5a639f)||'';}},_0x33af3d['AIPostProc'+_0x3fbf5d(0x185,0xa1,0x1b4,0x1a9)]={'openAIPostProcessingModal':async()=>{function _0x85628f(_0x211920,_0x2b2b43,_0x418156,_0x58b44f){return _0x5f0249(_0x418156,_0x2b2b43-0x116,_0x58b44f- -0x8c,_0x58b44f-0x164);}const _0x443a62={};function _0x3838d2(_0x2038c6,_0x3efbca,_0x1a1fe9,_0x480908){return _0x5f0249(_0x2038c6,_0x3efbca-0x9b,_0x1a1fe9-0xd9,_0x480908-0xe5);}_0x443a62['GQeeh']=_0x85628f(0x37b,0x446,0x45d,0x3db)+'B';const _0xcb0a70=_0x443a62;if(_0x50a84c[_0x85628f(0x38b,0x302,0x369,0x355)](_0x3838d2(0x504,0x47a,0x50e,0x5c8),_0x50a84c['MKHlA']))try{const {AISettingsModal:_0x32146d}=await import(_0x50a84c['iHBmx']),_0x42a9ad=new _0x32146d(pluginContext);await _0x42a9ad[_0x85628f(0x276,0x31b,0x440,0x35c)]();}catch(_0x2959d7){_0x50a84c['IKBbM'](_0x50a84c['UbVTd'],_0x85628f(0x289,0x1ad,0x203,0x251))?_0x49a970['helpers'][_0x3838d2(0x50e,0x497,0x55c,0x59c)]('导出失败:\x20'+_0x3c052c['message'],_0x50a84c['IRJgO']):(pluginContext['error'](EXTENSION_NAME,_0x50a84c[_0x3838d2(0x61c,0x582,0x563,0x500)],_0x2959d7),pluginContext[_0x85628f(0x330,0x29c,0x31b,0x279)][_0x85628f(0x336,0x40d,0x423,0x3f7)](_0x50a84c[_0x85628f(0x35f,0x448,0x35c,0x3f9)],_0x50a84c[_0x85628f(0x1bc,0x2a5,0x20c,0x29b)]));}else{const _0xc1b567=_0x3fdb1b[_0x3838d2(0x537,0x58b,0x510,0x43c)](_0xcb0a70[_0x3838d2(0x541,0x54e,0x50d,0x449)]);return _0xc1b567?.[_0x85628f(0x367,0x33d,0x264,0x2f4)+_0x85628f(0x456,0x362,0x4b9,0x3de)+_0x3838d2(0x452,0x3d4,0x3f1,0x350)+'sData'](_0x5d21c1)||'';}},'processPromptWithAI':async _0x47cbb5=>{function _0x59bd79(_0x38bca3,_0x4d8b8e,_0x302d47,_0x364a08){return _0x5f0249(_0x364a08,_0x4d8b8e-0x11e,_0x4d8b8e- -0x69,_0x364a08-0x129);}const _0xffc0e6=pluginContext[_0x2fdac0(0x4c0,0x636,0x625,0x597)](_0x50a84c[_0x2fdac0(0x431,0x3b8,0x45a,0x438)]);function _0x2fdac0(_0x75255a,_0x25111e,_0x336f34,_0x190c2e){return _0x3fbf5d(_0x190c2e-0x338,_0x25111e-0x154,_0x336f34-0x1d4,_0x75255a);}if(_0xffc0e6)return _0xffc0e6[_0x2fdac0(0x5a4,0x4e6,0x57f,0x53e)+_0x2fdac0(0x522,0x597,0x5bb,0x4e8)](_0x47cbb5);return _0x47cbb5;},'processCharacterGeneration':async _0x2794bc=>{function _0x3f059d(_0x241d83,_0x1fe9e1,_0x398d9b,_0x21d6a1){return _0x3fbf5d(_0x398d9b-0x2eb,_0x1fe9e1-0x144,_0x398d9b-0x133,_0x21d6a1);}function _0x577aa(_0x5dc237,_0x3f1541,_0x200d2a,_0x58b873){return _0x3fbf5d(_0x5dc237-0x127,_0x3f1541-0x101,_0x200d2a-0x191,_0x3f1541);}if(_0x50a84c['MlDYU'](_0x50a84c[_0x577aa(0x230,0x1e7,0x1f1,0x252)],_0x3f059d(0x472,0x4c8,0x520,0x45b))){const _0x21cc91=_0x46da2d[_0x577aa(0x386,0x382,0x3d0,0x469)](_0x577aa(0x3d5,0x3e3,0x3a4,0x31d)+'r');if(_0x21cc91)return _0x21cc91[_0x3f059d(0x47e,0x4f2,0x4f1,0x5ac)+_0x577aa(0x2d7,0x378,0x21a,0x38f)](_0x6add1);return _0x41d49e;}else{const _0x354cba=pluginContext[_0x3f059d(0x614,0x590,0x54a,0x553)](_0x50a84c[_0x577aa(0x227,0x1a9,0x23f,0x2c8)]);if(_0x354cba)return _0x354cba['processCha'+_0x3f059d(0x472,0x438,0x4a6,0x51c)+'ration'](_0x2794bc);throw new Error(_0x50a84c[_0x577aa(0x286,0x305,0x224,0x267)]);}},'isBatchingEnabled':async()=>{function _0x58c8da(_0x5dd1e7,_0x9586,_0x322832,_0xc60c4c){return _0x3fbf5d(_0x5dd1e7-0x116,_0x9586-0x94,_0x322832-0x18d,_0x9586);}function _0x53fea4(_0xbe858c,_0x5d7be3,_0x34369c,_0x1846b5){return _0x3fbf5d(_0x34369c-0x402,_0x5d7be3-0x1b5,_0x34369c-0xf7,_0xbe858c);}if(_0x50a84c[_0x53fea4(0x666,0x695,0x6ac,0x64c)](_0x50a84c[_0x53fea4(0x618,0x672,0x5df,0x584)],'YiHRX'))_0x1ab0b4[_0x58c8da(0x22b,0x14a,0x20b,0x1b8)](_0x55876a,'初始化失败:',_0x4f9db3),_0x11da7f['helpers'][_0x53fea4(0x651,0x774,0x6ad,0x70b)](_0x58c8da(0x318,0x2d5,0x338,0x355)+_0x2bbd7a[_0x53fea4(0x610,0x52b,0x583,0x63f)],'error');else{const _0x2f687f=pluginContext['getModule'](_0x50a84c['aujGl']);return _0x2f687f?await _0x2f687f['isBatching'+_0x58c8da(0x284,0x26f,0x1c7,0x1ae)]():![];}},'handleAutoClickBatch':async _0xf2f822=>{function _0x55ac7f(_0x5dd843,_0x519b38,_0x131ff4,_0x2c388f){return _0x3fbf5d(_0x5dd843- -0xe9,_0x519b38-0xf,_0x131ff4-0x85,_0x519b38);}const _0x1ad58c=pluginContext['getModule'](_0x50a84c[_0x55ac7f(0x17,0xc0,0x48,0x5)]);_0x1ad58c&&await _0x1ad58c['handleBatc'+'hTasks'](_0xf2f822);},'flushBatchQueue':async(_0x4278cd=![])=>{function _0x3dde73(_0xbe2853,_0x42ccf3,_0x1c1473,_0x478647){return _0x3fbf5d(_0x42ccf3- -0x1f4,_0x42ccf3-0x137,_0x1c1473-0x1c4,_0x478647);}function _0x3f5522(_0x2d5826,_0x2be4bf,_0x1524e7,_0x4db3f3){return _0x5f0249(_0x4db3f3,_0x2be4bf-0x12a,_0x2be4bf-0x129,_0x4db3f3-0x162);}const _0x202258=pluginContext['getModule'](_0x50a84c[_0x3f5522(0x45f,0x401,0x437,0x3bc)]);_0x202258&&await _0x202258['flushBatch'+_0x3f5522(0x5b9,0x526,0x4b8,0x502)](_0x4278cd);}},_0x33af3d[_0x5f0249(0x3e1,0x26b,0x32d,0x26e)]={'GeneratorManager':{'generate':async(_0x1ae86a,_0xa6a830=![])=>{function _0x1236f4(_0x98baa1,_0x1b89cb,_0x324701,_0x39360d){return _0x3fbf5d(_0x324701- -0x150,_0x1b89cb-0x117,_0x324701-0x13,_0x39360d);}function _0x58245b(_0x2a0667,_0x339aaa,_0x109968,_0x2b8057){return _0x5f0249(_0x2b8057,_0x339aaa-0x1d9,_0x2a0667-0x16b,_0x2b8057-0x195);}if(_0x50a84c[_0x1236f4(0xa8,-0x60,0x54,0x137)](_0x58245b(0x518,0x5a7,0x503,0x4b7),_0x50a84c[_0x1236f4(0x6e,0x8,0x76,0x14b)])){const _0x54b4d9=pluginContext['getModule'](_0x50a84c['xYsMQ']);if(_0x54b4d9)return _0x54b4d9['generate'](_0x1ae86a,_0xa6a830);throw new Error(_0x1236f4(0xbb,0x16d,0xf5,0xa8)+_0x1236f4(0x4a,0x79,0x111,0x149)+_0x58245b(0x49e,0x4f1,0x551,0x478)+_0x1236f4(0x184,0x51,0xa5,0x5c));}else{const _0xd8c039=_0x3bdce5[_0x58245b(0x563,0x641,0x5e2,0x547)+'r'][_0x1236f4(0xd,0x77,0xa1,0xa4)]['bind'](_0x3eb985),_0x348bb3=_0x3874fd[_0x328b18],_0x3f5e87=_0x161e92[_0x348bb3]||_0xd8c039;_0xd8c039[_0x58245b(0x4ce,0x592,0x488,0x3fc)]=_0x4b740b['bind'](_0xaa6ec5),_0xd8c039['toString']=_0x3f5e87[_0x58245b(0x499,0x426,0x528,0x496)][_0x58245b(0x4d0,0x46b,0x470,0x3e8)](_0x3f5e87),_0x43a8ed[_0x348bb3]=_0xd8c039;}}}},_0x18ba40[_0x3fbf5d(0x162,0x86,0x1ec,0x92)+'gins']=_0x33af3d,pluginContext[_0x3fbf5d(0x111,0x16a,0x192,0x30)](EXTENSION_NAME,_0x50a84c['mTyhp']);}async function mountToExtensionsSettings(){const _0x4cb399={'jvwCY':_0x40dead(0x202,0x1bf,0x20f,0x12e)+'B','qWlfp':_0x40dead(-0x10,0x11b,0xdf,0x79),'HUuPr':function(_0x4e0691,_0x30e8fe){return _0x4e0691!==_0x30e8fe;},'lQSAa':_0x40dead(0xc9,0x8c,0x11a,0x6a),'Wlrkz':_0xbeac9(0x270,0x2df,0x23d,0x2a8),'HpZdt':function(_0xe3ee69,_0x52c2f3){return _0xe3ee69===_0x52c2f3;},'tIZqi':_0xbeac9(0x310,0x237,0x3ed,0x264),'pagUt':_0xbeac9(0x3be,0x3dc,0x3c8,0x3b0),'PwiUN':function(_0x48c8ce){return _0x48c8ce();},'CvuEI':function(_0x4eba84,_0x541377){return _0x4eba84(_0x541377);},'CrTnY':_0x40dead(-0x21,0x11e,0x1c,0x6d),'dPZil':_0xbeac9(0x27b,0x270,0x2d5,0x299)+_0x40dead(0x136,0x18d,0x94,0x120),'cNKpm':_0x40dead(-0x3f,0x2d,-0xe,-0x3b),'oiqGK':_0x40dead(0x141,-0x6,0x154,0xdd)+_0x40dead(0x1c5,0x157,0x237,0x158)+_0xbeac9(0x366,0x2f9,0x3df,0x34a),'GFLUp':_0x40dead(0xb8,0x1d,0xf9,0x37)+_0x40dead(0x227,0xa6,0xeb,0x159),'gGLQX':function(_0x176c01,_0x26e69e){return _0x176c01===_0x26e69e;},'lhPNP':_0xbeac9(0x238,0x178,0x26a,0x250),'DMICH':function(_0x3d4ece,_0x3515bb,_0x4af90e,_0x4c54e1){return _0x3d4ece(_0x3515bb,_0x4af90e,_0x4c54e1);},'klJNM':'window','yZtMN':function(_0x1fc05b,_0x112f73){return _0x1fc05b(_0x112f73);},'TQuzY':_0x40dead(0x18c,0x1fd,0x1ca,0x157)+'面板','wdRUS':function(_0x17fff2,_0x258b89){return _0x17fff2(_0x258b89);},'kAMaZ':function(_0x177acb,_0x1df0d7){return _0x177acb(_0x1df0d7);},'JphQu':_0x40dead(-0x1,0xdf,-0xe,0xd6)+_0xbeac9(0x3b1,0x3d5,0x362,0x342)},_0x50ce57=window,_0x66402=_0x50ce57['jQuery'];if(!_0x66402){if(_0x4cb399['CrTnY']!==_0xbeac9(0x303,0x24e,0x3b8,0x383)){const _0x2d8372=_0x12c178[_0x40dead(0xf5,0xfc,0x11f,0xfe)](_0x4cb399['jvwCY']);return _0x2d8372?.[_0x40dead(0x20,0xc7,-0x4a,0x9e)+'s']()||[];}else{pluginContext['log'](EXTENSION_NAME,_0x4cb399[_0x40dead(-0x57,-0xf4,-0x10f,-0x49)]);return;}}await new Promise(_0x36e770=>{const _0x198fff={};_0x198fff[_0x352f45(0x1b5,0x17f,0xe7,0xea)]=_0x4cb399[_0x352f45(0x1c3,0x16e,0x1fd,0x232)];const _0x4c29cc=_0x198fff;function _0x352f45(_0x34c836,_0x7e77b1,_0x3b855b,_0x4c338b){return _0x40dead(_0x34c836-0x69,_0x34c836,_0x3b855b-0x13d,_0x3b855b-0xab);}function _0x441c90(_0x1decdc,_0x414582,_0x388c42,_0x15bd83){return _0xbeac9(_0x15bd83- -0xc2,_0x414582,_0x388c42-0xc2,_0x15bd83-0x1b3);}if(_0x4cb399[_0x441c90(0x148,0x181,0xcd,0x1a8)](_0x4cb399[_0x352f45(0x6c,0x199,0xc5,0x129)],_0x4cb399[_0x441c90(0x1a0,0x2b7,0x27f,0x23d)])){if(_0x4cb399['HpZdt'](document[_0x352f45(0x206,0x1b7,0x209,0x20a)],_0x4cb399['tIZqi'])){if(_0x4cb399[_0x441c90(0x12a,0x140,0x168,0x1f1)](_0x441c90(0x2bc,0x385,0x3da,0x2fc),_0x4cb399[_0x441c90(0x10a,0x18b,0xb8,0x17f)]))_0x4cb399[_0x441c90(0x255,0x25c,0x2f0,0x2ee)](_0x36e770);else{const _0x6cb825=_0x496d36?function(){if(_0x403377){const _0x4da56a=_0xe6dfbf['apply'](_0x122c81,arguments);return _0x1eac3b=null,_0x4da56a;}}:function(){};return _0x156466=![],_0x6cb825;}}else _0x4cb399[_0x352f45(0x137,0x11d,0x1dd,0x1a1)](_0x66402,document)['ready'](_0x36e770);}else _0x1322cd[_0x441c90(0x145,0x1df,0x263,0x188)](_0x4de3e2,_0x4c29cc[_0x352f45(0xc,0x3,0xe7,0x159)],_0x1631c3);});const _0x4ca0d2=_0x4cb399[_0x40dead(0x186,0xc2,0x7c,0x132)](_0x66402,_0x40dead(0x1aa,0x1b9,0x1a6,0xdd)+_0xbeac9(0x3ee,0x37f,0x4ac,0x37c));if(_0x4cb399[_0x40dead(-0xd,0x105,0x93,0x1d)](_0x4ca0d2[_0x40dead(0x1ad,0x98,0xeb,0x13e)],0x2386+-0x1*-0x311+-0x2697)){if(_0x4cb399['HpZdt']('JEyZF',_0x4cb399[_0x40dead(0x16,-0x41,0x1d,0x4a)])){pluginContext[_0x40dead(-0x133,-0x15,-0x8d,-0x50)](EXTENSION_NAME,_0x4cb399[_0xbeac9(0x3f7,0x3e3,0x3a6,0x3df)]);return;}else{if(_0x5a380d){const _0x353f74=_0x325990[_0xbeac9(0x25a,0x26f,0x215,0x20c)](_0x12160f,arguments);return _0x26529b=null,_0x353f74;}}}function _0xbeac9(_0x5b077f,_0x3f6858,_0x180ac8,_0x5441c9){return _0x46b1bd(_0x5b077f-0x140,_0x3f6858-0xd6,_0x3f6858,_0x5b077f-0x50);}function _0x40dead(_0x249f43,_0x5e7102,_0xd076bc,_0x350a77){return _0x2a076f(_0x249f43-0x17a,_0x350a77- -0xfc,_0xd076bc-0x17b,_0x5e7102);}if(_0x4ca0d2['find'](_0x4cb399[_0x40dead(0x149,-0x3f,-0x2d,0x9d)])['length']>0x5*-0x1e7+-0xab7+0x35f*0x6)return;const _0x4ded5e=_0x50ce57['renderExte'+_0x40dead(0x54,-0xc2,0x32,0x19)+_0x40dead(0x11e,0x212,0x177,0x13a)];if(_0x4cb399[_0x40dead(0x13,-0x83,-0x2e,0xa)](typeof _0x4ded5e,_0x4cb399[_0x40dead(0x4,0xb1,-0x39,0x71)]))try{const _0x52907a=await _0x4cb399[_0x40dead(0xa5,0x108,0x8c,0x102)](_0x4ded5e,EXTENSION_NAME,_0x4cb399['klJNM'],{}),_0x588c97=_0x4cb399['CvuEI'](_0x66402,_0x52907a);_0x4cb399['yZtMN'](bindPanelEvents,_0x588c97),_0x4ca0d2[_0x40dead(0x60,0xc6,0x155,0xf4)](_0x588c97),pluginContext['log'](EXTENSION_NAME,_0x4cb399[_0x40dead(0x3e,0x2b,-0x90,0x4d)]);return;}catch(_0x3e7665){pluginContext['log'](EXTENSION_NAME,_0xbeac9(0x346,0x271,0x415,0x3c4)+_0xbeac9(0x29f,0x291,0x298,0x1fe));}const _0x18b0b4=_0x4cb399[_0x40dead(0x0,0x8a,0x49,-0x51)](_0x66402,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<'+_0x40dead(-0x2e,-0x6c,0x10c,0x60)+'p-ext-cont'+_0xbeac9(0x387,0x432,0x3ae,0x2ec)+_0x40dead(0x8b,0x5a,0x13c,0x64)+_0x40dead(0x4d,0xd9,0x5a,0x32)+_0xbeac9(0x28d,0x2c9,0x1ac,0x355)+_0xbeac9(0x402,0x3ea,0x479,0x499)+_0xbeac9(0x2fa,0x2df,0x39b,0x3da)+_0x40dead(0x9f,-0x13,0x16b,0xb6)+_0xbeac9(0x293,0x1fe,0x218,0x2ef)+_0x40dead(0x6e,0xbb,-0x15,0x67)+'toggle\x20inl'+'ine-drawer'+_0x40dead(0xce,0x95,-0x6a,0x3f)+_0x40dead(0x5e,0x146,0xd1,0x64)+_0xbeac9(0x2fa,0x2f8,0x2ea,0x3b7)+_0x40dead(0x5b,-0x80,0x53,0x41)+_0x40dead(0x99,0x53,0xb2,0x110)+_0x40dead(0x3,-0x69,-0x74,-0x35)+'y:\x200.6;\x22>v'+VERSION+('</small></'+'b>\x0a\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x2fa,0x382,0x3d6,0x3c2)+_0xbeac9(0x2e1,0x396,0x2dd,0x319)+_0xbeac9(0x2f3,0x30f,0x372,0x22b)+_0x40dead(0x61,0x60,0x57,0x33)+_0x40dead(-0xf6,0x1b,-0xff,-0x57)+_0x40dead(0x50,0x37,0x1b6,0x11f)+'le-chevron'+_0xbeac9(0x2bd,0x2ff,0x377,0x2d4)+_0xbeac9(0x3ab,0x46c,0x38c,0x397)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x356,0x2c9,0x3c3,0x28d)+_0xbeac9(0x33f,0x3ba,0x2a1,0x319)+'\x20\x20\x20\x20\x20\x20\x20\x20<d'+_0xbeac9(0x3c0,0x49d,0x3a6,0x3fc)+_0x40dead(-0x23,-0x1c,0x125,0xa2)+_0x40dead(-0xe,0xa8,0xe1,0xcc)+'t\x22>\x0a\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x2fa,0x336,0x2d9,0x235)+_0xbeac9(0x34c,0x373,0x27c,0x3b3)+_0x40dead(0xe2,-0xd5,-0xe2,0x0)+_0xbeac9(0x3e9,0x333,0x375,0x438)+_0x40dead(0xc7,-0x6b,0xa6,0x75)+_0x40dead(-0x3c,0x7b,-0xca,-0x17)+'le=\x22gap:\x208'+_0x40dead(0x137,0xd,0x18f,0xc3)+'g:\x208px\x200;\x22'+_0xbeac9(0x33f,0x2f6,0x3ce,0x330)+_0xbeac9(0x2fa,0x357,0x32e,0x313)+_0x40dead(-0xb5,0xb8,0x69,-0x2a)+_0xbeac9(0x3bf,0x2fe,0x2dc,0x36b)+_0x40dead(-0xa,0x3c,0x2,0xb)+'市\x20/\x20角色数据库\x20'+_0x40dead(0x22d,0xa1,0x9a,0x14f)+_0x40dead(-0xc3,-0xbd,-0x82,0x21)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x2fa,0x353,0x3c7,0x23a)+_0xbeac9(0x2b4,0x383,0x28b,0x31d)+_0xbeac9(0x2c7,0x33b,0x307,0x372)+_0x40dead(-0xa4,0x2b,0x41,0x38)+_0xbeac9(0x3bd,0x308,0x44a,0x308)+'gap:\x208px;\x20'+'flex-wrap:'+_0x40dead(-0x119,0x8a,0x71,-0x38)+_0xbeac9(0x2fa,0x318,0x25b,0x397)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40dead(0xd4,-0x15,0x6d,-0xd)+_0xbeac9(0x363,0x2ba,0x43f,0x39e)+_0xbeac9(0x2cf,0x228,0x233,0x246)+'class=\x22men'+_0xbeac9(0x331,0x290,0x364,0x2e2)+_0x40dead(0x4f,0x110,0x90,0x44)+_0xbeac9(0x35c,0x288,0x36a,0x3c7)+_0x40dead(0x35,0x123,0xcf,0x45)+_0xbeac9(0x32e,0x376,0x381,0x385)+_0xbeac9(0x2fa,0x271,0x35d,0x2d6)+_0xbeac9(0x2fa,0x2b3,0x27a,0x21a)+_0x40dead(0x131,0x80,0x159,0xb7)+_0xbeac9(0x250,0x1ce,0x17f,0x2ac)+'lid\x20fa-tag'+_0x40dead(0x1be,0xba,0x1d4,0xf7)+_0x40dead(0xbe,0x11f,0xf5,0x64)+_0x40dead(0x6f,-0x81,0x114,0x64)+_0xbeac9(0x2fa,0x214,0x2f7,0x2bf)+_0x40dead(0x92,-0x124,-0xa5,-0x53)+_0x40dead(0x169,0xad,0x172,0xfa)+_0xbeac9(0x2fa,0x274,0x2ed,0x26c)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x377,0x367,0x38b,0x407)+_0x40dead(0x114,-0xc,0x11a,0x8d)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40dead(-0xcd,-0x114,-0x12,-0x52)+'tsp-open-c'+_0x40dead(0x55,0xcd,0x15b,0xff)+'=\x22menu_but'+_0xbeac9(0x302,0x29e,0x364,0x3e1)+_0xbeac9(0x383,0x336,0x2a9,0x3ce)+_0x40dead(-0x14,0x165,0xe2,0xad)+_0xbeac9(0x36e,0x3a6,0x3a4,0x354)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40dead(0x11,-0x6c,0x1c,0x64)+_0x40dead(0x32,0x53,0xca,0x64)+_0x40dead(0x40,0xa7,-0xa4,-0x36)+_0xbeac9(0x3d6,0x3a3,0x43b,0x314)+_0xbeac9(0x36f,0x29f,0x35d,0x2d8)+_0xbeac9(0x348,0x304,0x284,0x3de)+_0xbeac9(0x2fa,0x2e4,0x35d,0x2df)+_0xbeac9(0x2fa,0x358,0x396,0x27e)+_0xbeac9(0x271,0x299,0x225,0x21c)+_0x40dead(0x14,-0xbe,0x39,0x8)+_0x40dead(-0xe0,-0x30,-0x48,-0x3f)+_0x40dead(0x83,0x50,-0x4a,0x64)+_0x40dead(0x11f,0xf7,0x119,0x64)+_0x40dead(0x17,0x27,-0x36,0x25)+_0x40dead(0x16c,0xd4,0xa5,0xaa)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40dead(-0x49,0x5f,0x101,0x87)+_0xbeac9(0x2f6,0x27e,0x263,0x3ce)+(_0xbeac9(0x2a4,0x242,0x2d3,0x270)+_0x40dead(0x69,0xf,0x14,0xc5)+_0xbeac9(0x2c1,0x25c,0x223,0x352)+_0x40dead(-0x80,0x63,0xb7,0x11)+_0xbeac9(0x341,0x333,0x384,0x404)+_0x40dead(0x1ee,0x1c0,0x16e,0x114)+_0x40dead(-0xf,0x31,0x11c,0xa0)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40dead(0x9f,-0x1e,0x137,0x64)+_0x40dead(0x95,0x152,0x1d6,0xfd)+_0x40dead(0x96,0x68,0x88,-0x22)+_0x40dead(0x102,0x22,0x25,0xef)+_0xbeac9(0x34b,0x2bc,0x35d,0x3c6)+_0x40dead(0xf1,0x6a,0xec,0xaa)+_0xbeac9(0x2fa,0x37c,0x39c,0x239)+_0xbeac9(0x2fa,0x24d,0x340,0x2f1)+_0xbeac9(0x382,0x2cf,0x462,0x457)+_0xbeac9(0x288,0x36a,0x2dd,0x34f)+_0xbeac9(0x340,0x35f,0x419,0x380)+_0x40dead(-0x37,0xb8,-0x6b,0x64)+_0x40dead(0x153,0x38,-0x40,0x87)+_0x40dead(0xbb,0x81,0x167,0xf9)+_0x40dead(-0x56,0xd1,0xa1,0x64)+_0x40dead(0x34,0x3,-0x2c,0x64)+_0x40dead(0x105,0xc6,0x189,0x16e)+_0xbeac9(0x27a,0x327,0x1fd,0x31e)+_0xbeac9(0x298,0x1f6,0x25e,0x35f)+_0xbeac9(0x2ed,0x3c4,0x396,0x27e)+_0x40dead(-0x9c,0x53,-0x1c,0x44)+_0xbeac9(0x3f6,0x3f8,0x3f5,0x44c)+_0xbeac9(0x3db,0x47e,0x2f4,0x3c1)+'itle=\x22插件设置'+_0xbeac9(0x32e,0x29f,0x385,0x2ab)+_0xbeac9(0x2fa,0x35f,0x36f,0x3bc)+_0xbeac9(0x2fa,0x3c6,0x2a7,0x228)+_0xbeac9(0x34d,0x3fb,0x354,0x34f)+_0xbeac9(0x250,0x227,0x1ba,0x316)+'lid\x20fa-gea'+_0xbeac9(0x3fd,0x35e,0x3fb,0x433)+_0xbeac9(0x2fa,0x3ce,0x244,0x3d6)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40dead(0x35,-0x32,0x8,0x64)+_0x40dead(-0x8d,-0xc3,-0x109,-0x60)+_0x40dead(0xa,-0xa3,-0x35,-0x3f)+_0x40dead(0xf4,0xe0,0xb1,0x64)+_0x40dead(0xe1,0x9c,0x145,0x64)+'\x20\x20\x20\x20</div>'+_0xbeac9(0x340,0x3d1,0x2a3,0x28d)+_0x40dead(0x6c,0x65,-0x52,0x64)+_0x40dead(0x13f,0x49,0x16b,0xc0)+_0xbeac9(0x33f,0x3c6,0x2ab,0x383)+_0xbeac9(0x2fa,0x25d,0x22c,0x3c4)+_0x40dead(0x52,-0x10,0x7f,0x51)+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x2fa,0x263,0x36f,0x27c)+'\x20\x20\x20\x20\x20<div\x20'+'class=\x22fle'+_0x40dead(0xb5,0xc0,0x1f,0x38)+'r\x22\x20style=\x22'+_0x40dead(0x138,0x152,0x154,0x13c)+_0xbeac9(0x33f,0x2e4,0x2d2,0x2d6)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'<div\x20id=\x22t'+_0xbeac9(0x3e6,0x328,0x333,0x30a)+'data\x22\x20clas'+_0xbeac9(0x2cb,0x21a,0x240,0x2c5)+_0xbeac9(0x386,0x2f1,0x3cf,0x37c)+_0xbeac9(0x2ae,0x21f,0x347,0x362)+_0xbeac9(0x308,0x234,0x232,0x357)+_0x40dead(0x15e,0x1d8,0xde,0xf5)+_0x40dead(0x7c,0xc0,-0x67,0x64)+_0x40dead(0xce,0xbb,0x11a,0x64)+_0x40dead(-0x38,0x105,0x122,0x64)+_0x40dead(-0x5c,0x68,-0x22,-0x36)+_0x40dead(0xa3,0x1c6,0x5c,0x140)+_0xbeac9(0x384,0x3b8,0x3ce,0x29c)+_0xbeac9(0x35d,0x43c,0x38d,0x33c)+_0x40dead(-0x69,0x4f,0x122,0x64)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x2fa,0x3ba,0x26f,0x318)+'<span>导出数据'+_0xbeac9(0x390,0x32c,0x33a,0x33a)+_0x40dead(0x3d,0x149,0x115,0x64)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x377,0x39f,0x306,0x45d)+_0x40dead(0xbf,0x10f,0x119,0x8d)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x244,0x2d7,0x1d7,0x186)+_0xbeac9(0x3ea,0x312,0x4b5,0x47b)+_0xbeac9(0x237,0x204,0x1af,0x2a2)+_0xbeac9(0x361,0x306,0x408,0x297)+'utton\x20menu'+_0x40dead(0x1ba,0xd5,0x61,0xe2)+_0xbeac9(0x24b,0x2be,0x2a9,0x269)+_0x40dead(0x9a,0xdf,0x85,0x15b)+_0xbeac9(0x2fa,0x3df,0x2bb,0x25d)+_0x40dead(-0x29,-0x13,0xe1,0x64)+_0xbeac9(0x2fa,0x24e,0x28f,0x2fc))+(_0xbeac9(0x329,0x319,0x30d,0x3d6)+_0x40dead(-0x59,-0x88,-0x20,-0x5d)+'a-upload\x22>'+_0xbeac9(0x348,0x408,0x378,0x35c)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x40dead(0x14b,0xbb,0xe,0x64)+_0xbeac9(0x271,0x2a2,0x344,0x32e)+_0xbeac9(0x381,0x2b5,0x29b,0x38f)+'pan>\x0a\x20\x20\x20\x20\x20'+_0xbeac9(0x2fa,0x262,0x24b,0x21d)+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xbeac9(0x2e4,0x2fa,0x2aa,0x261)+_0xbeac9(0x2fa,0x32d,0x32e,0x24e)+_0x40dead(-0x4,-0x68,0x52,0x64)+_0xbeac9(0x2bb,0x1e7,0x303,0x1f7)+_0x40dead(0x141,0x3e,0xe4,0xaa)+_0x40dead(0x9c,0xf6,-0x51,0x64)+_0x40dead(0x56,0x155,0xc7,0xbd)+_0x40dead(-0x35,0x48,0xbd,0x64)+'\x20\x20\x20\x20</div>'+_0x40dead(-0x1e,0x51,0x53,0xaa)+'\x20\x20\x20</div>\x0a'+_0x40dead(0x1e8,0x145,0x1e6,0x107)+_0x40dead(-0x65,-0xf,-0xff,-0x56))));_0x4cb399[_0x40dead(0xf8,0x57,0x40,0x6b)](bindPanelEvents,_0x18b0b4),_0x4ca0d2[_0x40dead(0x184,0x87,0x1d8,0xf4)](_0x18b0b4),pluginContext[_0xbeac9(0x246,0x19c,0x16e,0x29d)](EXTENSION_NAME,_0x4cb399[_0xbeac9(0x26f,0x1fa,0x202,0x229)]);}function bindPanelEvents(_0x40e89b){function _0x3e3e24(_0x2feeac,_0x1d667d,_0x557c95,_0x330e0a){return _0x2a076f(_0x2feeac-0x160,_0x2feeac-0x25d,_0x557c95-0x9d,_0x557c95);}const _0x2fb51f={'ezgnX':function(_0x1fed97,_0x24ceb1,_0x2ff1a5){return _0x1fed97(_0x24ceb1,_0x2ff1a5);},'wbgRs':'LhktI','OtHJf':_0x5be1a7(-0xd,0xc2,0xc5,-0x11)+'ttings-mod'+'al.js','OEJkX':_0x5be1a7(-0x28,-0x1b,0x34,-0xb4)+':','EfBAu':_0x3e3e24(0x30d,0x256,0x229,0x317),'eUrWI':'XhTgo','DuuCc':_0x3e3e24(0x38d,0x2e2,0x463,0x382)+_0x5be1a7(0xc4,0x2f,0xc4,0x46),'tYHeN':_0x5be1a7(0x1df,0x18c,0x13f,0x67)+'r','ZmouL':function(_0x53376e,_0x883ada){return _0x53376e!==_0x883ada;},'roHRi':_0x5be1a7(0x84,-0x4c,-0x5b,0x6),'ONtRb':_0x5be1a7(0xbc,0x17f,0x14e,0xe6),'mbvlT':_0x5be1a7(0x8c,0x27,-0x23,0x53),'uaJkR':_0x3e3e24(0x351,0x32a,0x26e,0x375),'wQQDZ':_0x3e3e24(0x3e4,0x46d,0x398,0x414),'eXoWS':_0x3e3e24(0x4a4,0x3be,0x558,0x3d3),'JNusP':_0x3e3e24(0x47a,0x52d,0x4aa,0x3f4)+'tag','VTrmg':'click','aNwnb':'#tsp-open-'+_0x5be1a7(-0x44,0x14,0x32,0x101),'ntZPW':_0x3e3e24(0x47a,0x420,0x523,0x3b4)+'ai','qecrY':'#tsp-expor'+_0x5be1a7(0x16,-0x91,0x2d,0xf),'oyVHo':_0x5be1a7(-0xfa,0x24,-0x2e,-0xa4)+_0x3e3e24(0x394,0x2f3,0x457,0x478)};_0x40e89b[_0x5be1a7(0x17d,0x3b,0x11d,0x110)](_0x2fb51f[_0x5be1a7(0x165,0x187,0x11e,0xe9)])['on'](_0x2fb51f[_0x3e3e24(0x349,0x3ae,0x31b,0x31c)],()=>{function _0x59f542(_0x5b9dc2,_0x1c53e5,_0x24d791,_0x4c75aa){return _0x5be1a7(_0x5b9dc2-0xcb,_0x1c53e5-0x195,_0x1c53e5-0x4da,_0x5b9dc2);}function _0x1e3a13(_0x18c008,_0x565838,_0x2f6131,_0x40c53d){return _0x3e3e24(_0x565838- -0x332,_0x565838-0x12a,_0x18c008,_0x40c53d-0x8b);}pluginContext[_0x1e3a13(0x7a,0x9a,-0x25,0x39)][_0x1e3a13(0x230,0x15c,0x1cd,0xfd)](EventTypes[_0x59f542(0x515,0x4d0,0x4d0,0x4e7)+'N']);}),_0x40e89b[_0x5be1a7(0x1cb,0x1a5,0x11d,0x72)](_0x2fb51f[_0x3e3e24(0x45c,0x3b0,0x478,0x3f6)])['on'](_0x3e3e24(0x3d7,0x306,0x482,0x43d),()=>{function _0x5252e5(_0x1bc47c,_0x3c48aa,_0x421fd9,_0x5779c9){return _0x5be1a7(_0x1bc47c-0x182,_0x3c48aa-0x18e,_0x5779c9- -0x192,_0x1bc47c);}function _0xb2e30(_0x417fc4,_0x10090b,_0x2a4cc2,_0x28dc8d){return _0x5be1a7(_0x417fc4-0x45,_0x10090b-0xa0,_0x28dc8d-0x44f,_0x417fc4);}pluginContext[_0x5252e5(-0x1ee,-0xbc,-0x1fc,-0x12d)][_0x5252e5(0x68,-0xef,-0xca,-0x6b)](EventTypes[_0x5252e5(-0x101,-0xea,-0x16e,-0x89)+_0x5252e5(-0x3c,0x88,0x1,-0x59)]);});function _0x5be1a7(_0x2360b7,_0x2bf359,_0x1e4126,_0x269358){return _0x46b1bd(_0x2360b7-0x107,_0x2bf359-0x166,_0x269358,_0x1e4126- -0x254);}_0x40e89b[_0x5be1a7(0x17c,0x3f,0x11d,0x93)](_0x2fb51f[_0x5be1a7(0xee,-0x2b,0x1a,0xbd)])['on'](_0x2fb51f[_0x3e3e24(0x349,0x348,0x2a3,0x2a7)],async()=>{const _0x395b4f={'SHwFg':function(_0x2d7b70,_0x152c09,_0x283cb4){function _0xc865bf(_0x4db747,_0x371e40,_0x533365,_0x303fd6){return _0x2ac0(_0x303fd6-0x2e1,_0x371e40);}return _0x2fb51f[_0xc865bf(0x3fd,0x41a,0x44b,0x4b0)](_0x2d7b70,_0x152c09,_0x283cb4);}};function _0xa9fe2d(_0x21c510,_0x4b5acf,_0xd2ed50,_0x513403){return _0x3e3e24(_0x21c510-0xd2,_0x4b5acf-0x1c,_0xd2ed50,_0x513403-0x37);}function _0x3bbb7b(_0x26d1e4,_0xfa6ea,_0x5aeec1,_0x4a55c4){return _0x3e3e24(_0x26d1e4-0x20d,_0xfa6ea-0x19e,_0x4a55c4,_0x4a55c4-0xfa);}try{if(_0x3bbb7b(0x622,0x6fa,0x5bd,0x67f)!==_0x2fb51f[_0xa9fe2d(0x595,0x60d,0x4e3,0x5a6)]){_0x395b4f[_0xa9fe2d(0x4e5,0x52b,0x463,0x43e)](_0x10c2f2,_0x5e141b,0x2d3*-0x5+-0x147a+-0xc2f*-0x3);return;}else{const {AISettingsModal:_0x55e3c1}=await import(_0x2fb51f[_0xa9fe2d(0x3e1,0x462,0x440,0x36b)]),_0x49ad3d=new _0x55e3c1(pluginContext);await _0x49ad3d[_0xa9fe2d(0x4da,0x403,0x4f4,0x468)]();}}catch(_0x3ac2ed){pluginContext[_0xa9fe2d(0x3df,0x3be,0x3d1,0x4b6)](EXTENSION_NAME,_0x2fb51f['OEJkX'],_0x3ac2ed),pluginContext[_0x3bbb7b(0x532,0x4ed,0x59d,0x5d5)][_0xa9fe2d(0x575,0x4c1,0x4eb,0x54e)]('打开\x20AI\x20设置失败',_0x2fb51f['EfBAu']);}}),_0x40e89b[_0x5be1a7(0x87,0x5a,0x11d,0xeb)](_0x3e3e24(0x47a,0x406,0x550,0x445)+_0x3e3e24(0x3c7,0x325,0x3ba,0x483))['on'](_0x3e3e24(0x3d7,0x396,0x36e,0x3bc),()=>{function _0x22158f(_0x395cc9,_0x1e9969,_0xbde2ad,_0x4d5a82){return _0x3e3e24(_0x395cc9-0xaf,_0x1e9969-0xc3,_0x1e9969,_0x4d5a82-0x17a);}function _0x2bfd43(_0x46f69f,_0x1ef2f4,_0x20f7da,_0x34f785){return _0x3e3e24(_0x34f785- -0x189,_0x1ef2f4-0x73,_0x46f69f,_0x34f785-0xa9);}if(_0x2fb51f[_0x2bfd43(0x2db,0x35e,0x2a9,0x335)]===_0x2fb51f[_0x2bfd43(0x29b,0x340,0x2a3,0x335)]){const _0x1cd3c9=pluginContext['getModule'](_0x2fb51f[_0x2bfd43(0x20c,0x2c9,0x22d,0x2af)]);_0x1cd3c9?_0x1cd3c9[_0x2bfd43(0x206,0x319,0x238,0x27f)]():pluginContext[_0x2bfd43(0x14e,0x1d8,0x188,0x19c)][_0x22158f(0x552,0x5e2,0x504,0x4a0)](_0x2bfd43(0x34f,0x33d,0x2db,0x29f),_0x2fb51f[_0x22158f(0x4ee,0x42d,0x54e,0x5ca)]);}else{const _0x470438=_0x35e062?function(){if(_0x433306){const _0x3e7a93=_0x5a9cb1['apply'](_0x104297,arguments);return _0x15d04d=null,_0x3e7a93;}}:function(){};return _0x11de1f=![],_0x470438;}}),_0x40e89b[_0x3e3e24(0x484,0x403,0x3ab,0x4a3)](_0x2fb51f[_0x5be1a7(-0xc6,-0x100,-0x62,-0x118)])['on'](_0x2fb51f['VTrmg'],async()=>{function _0x18be31(_0xe1b272,_0x334535,_0x405e2b,_0x32aea1){return _0x3e3e24(_0x32aea1-0xb9,_0x334535-0x1a2,_0x405e2b,_0x32aea1-0xce);}function _0x23fe4f(_0xfbebcb,_0x5e89e0,_0x4ad91a,_0x3a127d){return _0x3e3e24(_0x5e89e0- -0x20b,_0x5e89e0-0x33,_0xfbebcb,_0x3a127d-0x65);}try{if(_0x2fb51f['ZmouL'](_0x18be31(0x4c2,0x4b8,0x4d3,0x4b9),_0x2fb51f['roHRi'])){const _0x1f384f=await pluginContext['db'][_0x23fe4f(0x29e,0x25b,0x1ea,0x1f9)](),_0x26dbb0={};_0x26dbb0[_0x18be31(0x518,0x4c8,0x3ab,0x442)]='applicatio'+_0x18be31(0x3af,0x3f9,0x54e,0x495);const _0x1b85d=new Blob([JSON[_0x23fe4f(0x163,0x10b,0x89,0x176)](_0x1f384f,null,-0x16f8+-0x13*0x1d3+-0xd*-0x46f)],_0x26dbb0),_0x205f57=URL[_0x18be31(0x451,0x403,0x502,0x424)+_0x23fe4f(0x204,0x1fa,0x178,0x269)](_0x1b85d),_0x4a8bee=document[_0x18be31(0x35a,0x32f,0x3c7,0x3f5)+'ent']('a');_0x4a8bee[_0x18be31(0x54e,0x428,0x442,0x4fc)]=_0x205f57,_0x4a8bee[_0x23fe4f(0x2a1,0x26a,0x1af,0x2ba)]=_0x23fe4f(0x1d6,0x1dc,0x216,0x172)+_0x18be31(0x5c6,0x414,0x557,0x4f0)+new Date()[_0x18be31(0x560,0x635,0x4e9,0x57a)+'g']()[_0x23fe4f(0x1ff,0x120,0x79,0x134)](-0x6c3*-0x3+0xd*-0x1f1+0x4*0x13d,0x1*-0x137+-0x1d0+0x1*0x311)+_0x18be31(0x530,0x571,0x5b7,0x560),_0x4a8bee[_0x18be31(0x40a,0x3ed,0x43c,0x490)](),URL[_0x18be31(0x540,0x51f,0x497,0x53f)+_0x18be31(0x527,0x57e,0x41b,0x4be)](_0x205f57),pluginContext[_0x18be31(0x32b,0x485,0x300,0x3de)][_0x23fe4f(0x1e8,0x298,0x23a,0x1ce)](_0x2fb51f[_0x23fe4f(0x24b,0x256,0x265,0x22e)],_0x2fb51f[_0x18be31(0x4d7,0x4b4,0x52e,0x504)]);}else{const _0x52869f=_0x1291f9[_0x18be31(0x448,0x462,0x431,0x510)](_0x2fb51f[_0x23fe4f(0x247,0x1ea,0x2c8,0x20b)]);if(_0x52869f)return _0x52869f[_0x18be31(0x4a6,0x473,0x342,0x3f4)+'racterGene'+_0x18be31(0x2f2,0x312,0x307,0x3b9)](_0x2d8578);throw new _0x1df9e6(_0x18be31(0x439,0x3b3,0x340,0x3f8));}}catch(_0x5a7aa4){if(_0x2fb51f['ZmouL'](_0x2fb51f['uaJkR'],_0x23fe4f(0xdf,0x146,0x110,0xd8))){const _0x7d6580=_0x1be19b[_0x23fe4f(0x1a9,0x112,0x1c0,0x10f)](_0x8c9646,arguments);return _0x1488fc=null,_0x7d6580;}else pluginContext['helpers']['showToast']('导出失败:\x20'+_0x5a7aa4[_0x23fe4f(0x190,0x16e,0x19c,0xa9)],_0x2fb51f[_0x18be31(0x4cf,0x428,0x57a,0x4f8)]);}}),_0x40e89b[_0x5be1a7(0x1af,0x100,0x11d,0x163)](_0x2fb51f[_0x5be1a7(0x37,0x10a,0xf6,0x121)])['on'](_0x2fb51f[_0x3e3e24(0x349,0x40e,0x35f,0x2bc)],()=>{function _0x521c3e(_0x46c20f,_0x12c8e8,_0x246b80,_0x2d90b4){return _0x5be1a7(_0x46c20f-0x2f,_0x12c8e8-0xa3,_0x2d90b4- -0x1d,_0x46c20f);}const _0x29d6c8=document['createElem'+_0x3e42d0(0x39,0xd4,0xce,0xc0)](_0x2fb51f[_0x3e42d0(-0x9d,0x12,-0x16c,-0x10)]);_0x29d6c8['type']=_0x3e42d0(0xf0,0xb7,0x1ce,0x131),_0x29d6c8[_0x3e42d0(0x30,0xb1,0xa5,0x1a)]=_0x3e42d0(0xf8,0x140,0xfe,0xab),_0x29d6c8['onchange']=async _0x4fbe37=>{const _0x385690=_0x4fbe37[_0x38f626(0x345,0x4a4,0x3c6,0x3da)];function _0x4b4dac(_0x19ff78,_0x233e03,_0xa02ac0,_0x5aec95){return _0x3e42d0(_0x233e03-0x85,_0x19ff78,_0xa02ac0-0x8,_0x5aec95-0x1f4);}const _0x2add42=_0x385690[_0x38f626(0x4f4,0x457,0x4c1,0x46d)]?.[-0x1586+0x1*0x9f0+0xb96];if(!_0x2add42)return;function _0x38f626(_0x639fa2,_0x38f368,_0x53806b,_0x1379b7){return _0x521c3e(_0x53806b,_0x38f368-0x16b,_0x53806b-0x11a,_0x1379b7-0x442);}try{const _0xc46b30=await _0x2add42[_0x4b4dac(0x116,0x5d,0x7c,0x1c)](),_0x418aa5=JSON[_0x4b4dac(0x180,0x104,0x1e3,0xcc)](_0xc46b30),_0x461798=await pluginContext['db']['importAll'](_0x418aa5);pluginContext[_0x4b4dac(-0x69,-0x5,0x62,0x54)]['showToast'](_0x38f626(0x574,0x534,0x526,0x4ba)+_0x461798[_0x4b4dac(0x217,0x16c,0x9f,0x1a0)]+_0x4b4dac(0xdf,0x28,0x5c,-0x1)+_0x461798[_0x4b4dac(-0x25,0x8e,0x71,0x121)]+_0x38f626(0x3da,0x381,0x351,0x433)+_0x461798['errors'],_0x461798[_0x4b4dac(0xa,0xc8,0x91,0xb6)]>-0x1634+-0x518+0x1*0x1b4c?_0x2fb51f[_0x4b4dac(0xd4,0x151,0x229,0x1c7)]:_0x2fb51f[_0x38f626(0x5d7,0x452,0x46f,0x509)]);}catch(_0x20b456){pluginContext['helpers']['showToast'](_0x38f626(0x4f0,0x61e,0x51c,0x582)+_0x20b456[_0x4b4dac(0x82,0x4f,0xe,-0x26)],_0x2fb51f['EfBAu']);}};function _0x3e42d0(_0x50d619,_0x30a235,_0x395792,_0x50f6fa){return _0x3e3e24(_0x50d619- -0x3af,_0x30a235-0xca,_0x30a235,_0x50f6fa-0xf6);}_0x29d6c8[_0x3e42d0(0x28,0x23,0xd9,-0xb)]();});}async function unloadPlugin(){function _0x36693f(_0x165208,_0x419270,_0x2a9953,_0x451f82){return _0x46b1bd(_0x165208-0x133,_0x419270-0x84,_0x451f82,_0x2a9953- -0x1ab);}const _0x56d73d={};_0x56d73d[_0x36693f(0x299,0x212,0x1dd,0x229)]='开始卸载...';function _0x3d5918(_0x5af780,_0xeb3e13,_0x661ea3,_0x25cd55){return _0x2a076f(_0x5af780-0x133,_0xeb3e13- -0xeb,_0x661ea3-0x52,_0x25cd55);}_0x56d73d[_0x36693f(0xa2,0x1fe,0x17e,0x10c)]=_0x3d5918(0x7,0x5d,0x130,0xcd)+'ntainer',_0x56d73d[_0x3d5918(0x10e,0x144,0xd9,0x151)]=_0x3d5918(0x151,0x8a,-0xe,0xc7);const _0x37127f=_0x56d73d;pluginContext[_0x3d5918(0xa1,-0x3f,0x13,0x85)](EXTENSION_NAME,_0x37127f[_0x36693f(0x252,0x283,0x1dd,0x106)]);try{await pluginContext[_0x36693f(0xfd,0x57,0xa0,0xdf)]();const _0x3fbc77=document[_0x36693f(0x178,0x1da,0x1d6,0x21d)+_0x36693f(0x225,0x248,0x1b3,0x147)](_0x37127f[_0x3d5918(0xde,0xf4,0x189,0x14)]);if(_0x3fbc77)_0x3fbc77['remove']();const _0x4ed5f2=window;delete _0x4ed5f2[_0x3d5918(0x56,0x81,0x90,0xed)+_0x36693f(0x1b4,0x7b,0xf3,0xb5)],pluginContext[_0x36693f(-0x24,0x36,0x4b,-0x50)](EXTENSION_NAME,'卸载完成');}catch(_0x5b5813){pluginContext[_0x3d5918(0x92,-0x3b,0x4e,-0xe1)](EXTENSION_NAME,_0x37127f['eOgiU'],_0x5b5813);}}(async function bootstrap(){const _0x2f2086={'QLRqr':_0x412cd3(-0x84,-0xf1,-0xe0,-0xd6)+':','DpkZs':function(_0x496ef5,_0x3b1ce1){return _0x496ef5!==_0x3b1ce1;},'vbYQH':'npNNo','MEWsJ':_0x412cd3(0x2d,0xcc,-0x5b,0x3c)+'settings\x20加'+_0x412cd3(-0xcb,-0x70,-0x12,-0x16c),'qJcXZ':_0x412cd3(-0x45,-0x83,-0xa1,0x8b),'sUlnN':function(_0x436a46){return _0x436a46();},'NxuYz':function(_0x1c9a3a,_0x167c09){return _0x1c9a3a===_0x167c09;},'ZUVEp':_0x412cd3(0x69,0x39,0xb3,0xa),'DlpQN':_0x412cd3(-0x88,-0xb3,-0x81,-0x10c),'hDWwc':function(_0x38c1f9,_0x2b7aeb,_0xd22f0d){return _0x38c1f9(_0x2b7aeb,_0xd22f0d);},'jDmQG':function(_0x2e642a,_0x51bfc8){return _0x2e642a>_0x51bfc8;},'YOtXC':_0x1c5b1a(-0x60,-0x84,-0x68,-0x62)+_0x412cd3(0x22,-0x51,0xe3,-0x52)+_0x1c5b1a(0xb2,0x8e,-0x23,-0xb0),'etKAA':function(_0x7f2343){return _0x7f2343();},'ZwQrK':function(_0x5047c7,_0x1dad1c){return _0x5047c7&&_0x1dad1c;},'XUtbJ':_0x412cd3(0x73,-0x5f,0x146,-0x9)+'on_setting'+'s\x20加载...'};if(_0x2f2086[_0x1c5b1a(-0x93,-0x1bb,-0x147,-0xb1)](typeof SillyTavern,_0x2f2086[_0x1c5b1a(-0x187,-0x165,-0x145,-0x1cd)])){if(_0x2f2086[_0x1c5b1a(-0x155,-0x248,-0x165,-0x11a)](_0x1c5b1a(-0x42,-0x45,-0x17,-0x7b),_0x2f2086[_0x1c5b1a(-0x263,-0x243,-0x192,-0xbc)])){_0x2f2086['hDWwc'](setTimeout,bootstrap,-0x24e5+0xf27+-0x3*-0x7e6);return;}else{const _0x437ffe=_0x17f5ee[_0x412cd3(0x38,-0x76,-0xac,-0x49)](_0x412cd3(-0x42,0x45,-0x43,0x87));return _0x437ffe?.[_0x412cd3(-0x115,-0x1ba,-0x1ed,-0x19d)+_0x1c5b1a(-0x5d,0x43,-0x3d,-0xf4)]()||{};}}function _0x1c5b1a(_0x2bf2a7,_0xfae097,_0x3518e4,_0x68bb4c){return _0x46b1bd(_0x2bf2a7-0x31,_0xfae097-0x46,_0xfae097,_0x3518e4- -0x3a1);}const _0x3eb21b=window,_0x38b4dc=_0x3eb21b[_0x412cd3(0x7b,0x12a,-0x2e,0xe)+'e'],_0x2794bd=_0x3eb21b['event_type'+'s'],_0x3fa5cd=_0x3eb21b[_0x1c5b1a(0x6a,-0x23,-0x68,0xd)+_0x412cd3(-0x58,-0x45,-0x1c,-0x42)],_0x2e7976=_0x3fa5cd&&_0x2f2086[_0x1c5b1a(-0x9c,-0x2,-0x1c,0xa4)](Object['keys'](_0x3fa5cd)[_0x412cd3(0x78,0xe2,-0x2c,0x141)],-0x4e8+-0x91+0x579);function _0x412cd3(_0x33e471,_0x4b2bfe,_0x372e72,_0x28fce2){return _0x46b1bd(_0x33e471-0x1f,_0x4b2bfe-0x84,_0x28fce2,_0x33e471- -0x30c);}if(_0x2e7976)pluginContext['log'](EXTENSION_NAME,_0x2f2086[_0x1c5b1a(-0x6,-0x5c,-0x50,-0xb5)]),await _0x2f2086[_0x412cd3(-0x5,-0xf,0x3b,0x9e)](initPlugin);else _0x2f2086[_0x412cd3(-0x80,-0x63,-0xb6,-0xc0)](_0x38b4dc,_0x2794bd)?(pluginContext['log'](EXTENSION_NAME,_0x2f2086['XUtbJ']),_0x38b4dc[_0x1c5b1a(-0x1c0,-0x20,-0xf3,-0x15c)](_0x2794bd[_0x412cd3(-0x9d,-0x108,-0xe2,-0x17d)+_0x412cd3(0x16,-0x11,0x34,-0x1d)+_0x412cd3(-0xd7,-0xb1,-0x13d,-0x5a)],async()=>{function _0x1bdecf(_0x4328a6,_0x2be0c9,_0x5799c3,_0x196b6e){return _0x1c5b1a(_0x4328a6-0xcf,_0x2be0c9,_0x196b6e-0x662,_0x196b6e-0x1f3);}function _0x1a4f14(_0x58f6e5,_0x40c8e7,_0xad0945,_0x77b31b){return _0x412cd3(_0xad0945-0x174,_0x40c8e7-0x10f,_0xad0945-0x1be,_0x58f6e5);}const _0x434a7b={};_0x434a7b['joZxD']=_0x2f2086[_0x1a4f14(0x110,-0x57,0x6d,0x127)];const _0xfae2cb=_0x434a7b;_0x2f2086[_0x1bdecf(0x4c5,0x4ec,0x547,0x4fd)](_0x1a4f14(0x104,0x1b0,0x133,0xbe),_0x2f2086['vbYQH'])?(_0x4bcf2c[_0x1a4f14(-0x76,0x87,0x62,-0x32)](_0x19c2e6,_0xfae2cb[_0x1a4f14(0x13d,0xf1,0x9b,0xea)],_0x41dd28),_0x35694f[_0x1bdecf(0x572,0x3f7,0x556,0x4d3)][_0x1a4f14(0x2d4,0x2aa,0x1f8,0x232)]('打开\x20AI\x20设置失败',_0x1a4f14(0x89,0x0,0x62,0x20))):(pluginContext[_0x1bdecf(0x553,0x42b,0x475,0x4b7)](EXTENSION_NAME,_0x2f2086['MEWsJ']),await initPlugin());}),_0x2f2086['hDWwc'](setTimeout,async()=>{function _0x15c0c1(_0x124253,_0x236928,_0x313011,_0x4913bf){return _0x1c5b1a(_0x124253-0x80,_0x236928,_0x124253-0x508,_0x4913bf-0x194);}function _0x2242ab(_0x5d9070,_0xe680a5,_0x851465,_0x3f5af7){return _0x412cd3(_0x5d9070-0x110,_0xe680a5-0xc6,_0x851465-0x1e1,_0x3f5af7);}!_0x3eb21b[_0x15c0c1(0x41d,0x4a0,0x3ef,0x49d)+_0x2242ab(0xa2,0x12f,0x172,0x168)]&&(pluginContext[_0x15c0c1(0x35d,0x3c5,0x2bb,0x3d9)](EXTENSION_NAME,_0x2f2086['qJcXZ']),await _0x2f2086[_0x15c0c1(0x401,0x343,0x458,0x3a2)](initPlugin));},-0x62f*-0x1+-0x1d9d+0x2af6)):(pluginContext[_0x1c5b1a(-0x24e,-0x126,-0x1ab,-0x10a)](EXTENSION_NAME,_0x1c5b1a(-0x225,-0x1b0,-0x17e,-0xbc)+_0x412cd3(-0xe,0xd5,-0x2e,0x62)),await initPlugin());}(),window[_0x2a076f(0x85,0x16c,0x247,0x220)+_0x2a076f(0x236,0x230,0x1c3,0x305)+'oad']=unloadPlugin);